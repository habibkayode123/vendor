{"version":3,"sources":["assets/img/photo-1431578500526-4d9613015464.jpeg","assets/img/logo.png","assets/img/logo-4.png","assets/img/faces/face-3.jpg","setAuthToken.js","auth/auth-helper.js","auth/api-auth.js","url.js","axios.js","budget/api-budget.js","views/Maps.js","views/Upgrade.js","department/api-dept.js","components/Pagination/Pagination.js","views/VendorQuotation/api-vendorQuotation.js","components/TableHeader/TableHeader.js","helpers.js","views/vendor/api-listQuotation.js","views/vendor/ListQuotation.js","components/Search/Search.js","components/CsvImport.js","budget/Budget.js","views/PurchaseRequest.js","components/Navbars/AdminNavbar.js","components/Footer/Footer.js","department/NewDepartment.js","department/Department.js","department/EditDepartment.js","department/Departments.js","assets/img/sidebar-3.jpg","views/PurchaseRequests/SinglePurchaseRequest/SinglePurchaseRequest.js","layouts/Admin.js","views/auth/api-vendorAuth.js","components/Loading.js","views/auth/VendorLogin.js","components/ExecelComponent.js","views/VendorQuotation/fetchVendorsQuotation.js","components/Navbars/VendorNavbar.js","components/Sidebar/VendorSidebar.js","views/Vendors/vendor-api.js","views/Vendors/VendorsDetail.js","views/VendorQuotation/ApprovedQuotation.js","views/VendorQuotation/PendingQuotation.js","views/VendorQuotation/RejectedQuotation.js","views/Vendors/Analysis.js","components/ErrorMessage/ErrorMessage.js","views/VendorQuotation/uploadQuotation.js","views/vendor/api-profile.js","views/vendor/Profile.js","layouts/VendorLayout.js","auth/PrivateRouteVendor.js","views/vendor/RequstResetPassword.js","index.js","views/vendor/ResetPassword.js"],"names":["setAuthToken","token","axios","defaults","headers","common","auth","isAuthenticated","window","sessionStorage","getItem","JSON","parse","isAuthenticatedVendor","authenticate","jwt","cb","setItem","stringify","clearJWT","removeItem","get","then","data","document","cookie","authenticateVendor","clearVendorJWT","getVendor","updateUser","user","herouke","instance","create","baseURL","interceptors","request","use","error","Promise","reject","response","budget","post","getBudgetTypeList","additionalBudgetUpdate","params","put","budgetId","getBudgetByDepartment","userDept","Maps","Upgrade","list","PaginationContent","total","itemsPerPage","currentPage","onPageChange","useState","totalPages","setTotalPages","useEffect","Math","ceil","paginationItems","useMemo","pages","i","push","Pagination","Item","active","onClick","Prev","disabled","Next","a","signal","fetch","method","ok","status","json","console","log","getQuotationByVendor","id","vendorId","getQuotationByVendorByStatus","payload","Authorization","body","getQuotationByCaseId","caseId","uploadQuotation","text","TableHeader","onSorting","sortingField","setSortingField","sortingOrder","setSortingOrder","map","name","field","sortable","order","onSortingChange","className","aria-hidden","numberWithCommas","x","toString","replace","formatDate","date","Date","setHours","approveQuotation","rejectQuotation","STATUS","ListQuotation","vendorQuotation","setVendorQuotation","displayData","setDisplayData","totalItems","setTotaltems","setCurrentPage","show","setShow","approvalComment","setApprovalComment","clickId","setClickId","approvalCommentError","setApprovalCommentError","handleClose","AbortController","res","length","lastIndex","startIndex","newData","slice","Container","fluid","Row","Col","md","Card","Header","Title","as","Body","page","Table","responsive","setSorting","item","index","totalAmount","comment","createdAt","toLocaleDateString","toLocaleTimeString","Button","variant","toast","success","catch","handleRejection","Modal","onHide","closeButton","Form","Group","controlId","Label","Control","rows","value","onChange","e","target","Text","Footer","prev","newObj","Search","onSearch","placeholder","search","setSearch","type","style","width","CsvImport","props","size","File","label","event","file","files","setFile","onUpload","connect","dispatch","handleUpdate","showTopUp","setShowTopUp","budgets","setBudgets","sorting","selectedFile","setSelectedFile","needsReload","setNeedsReload","amount","departmentId","budgetTypeId","startDate","endDate","values","setValues","departments","setDepartments","budgetTypes","setBudgetTypes","handleOnChange","handleTopUpClose","updateBudgetP","Accept","action","budgetsData","computedBudgets","filter","dept","toLowerCase","includes","reversed","sort","b","localeCompare","actions","close","FormData","append","message","err","errors","undefined","year","month","day","uuid","find","handleTopUpShow","onSubmit","preventDefault","min","step","updateBudget","required","init","narration","expenseTypeId","inputList","setInputList","expenseTypes","setExpenseTypes","input","setInput","fetchBudgets","trackPromise","datum","expenseType","handlePurchase","requestedBy","email","split","handleInputChange","span","key","striped","bordered","hover","splice","handleRemoveClick","handleOnEdit","useStyles","makeStyles","theme","root","marginTop","margin","spacing","padding","state","useLocation","history","useHistory","abortController","abort","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","Nav","navbar","to","role","department","Component","card","maxWidth","marginLeft","marginRight","textAlign","paddingBottom","verticalAlign","title","color","palette","openTitle","fontSize","textField","submit","marginBottom","display","filename","mixins","gutters","protectedTitle","subheading","bigAvatar","height","departmentTitle","flexGrow","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","secondary","SinglePurchaseRequest","Admin","signin","vportaluser","rep","LoadingIndicator","usePromiseTracker","promiseInProgress","position","top","background","justifyContent","alignItems","zIndex","VendorLogin","loggedIn","setLoggedIn","password","handleChange","offset","src","require","default","alt","info","Loading","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","ExcelComponet","element","execelData","APPROVED","REJECTED","ALL","PENDING","FetchVendorQuotation","variableData","setVariableData","appprovedStatus","setApprovedStatus","filterDate","setFileterDate","loading","setExecelData","realData","approvalDate","approvedBy","createdBy","createdOn","deliveryDate","orderId","paymnentStatus","processStatus","processStatusInvoice","processStatusPaymnent","All","days","getDate","setDate","newData2","k","newDate","realDate","fileterDate","vData","vData2","sm","toLocaleString","VendorNavbar","VendorSidebar","activeClassName","exact","getSingleVendorDetails","url","getVendorQuotationStatusCount","VendorDetail","prop","setError","setLoading","setData","accountName","accountNumber","accountType","approvalStatus","bankName","ApprovedQuotation","startingDate","setStartingDate","endingDate","setEndingDate","onDayChange","format","PendingQuotation","RejectedQuotation","set","Analysis","approved","setApproved","rejected","setRejected","pending","setPending","datasets","fill","lineTension","backgroundColor","borderColor","borderWidth","labels","options","legend","ErrorMessage","UploadQuotation","setCaseId","orders","setOrders","caseError","setCaseError","formData","setFormData","formError","setformError","Subtitle","items","quantity","contentEditable","toISOString","holder","changePassWord","resetPassWord","obj","setResetPassword","Profile","newPassword","confirmPassword","oldPassword","setValue","setErr","newpassword","oldpassword","confirmpassword","submitPassword","VendorLayout","path","component","VendorsDetail","PrivateRouteVendor","rest","render","pathname","from","location","ResetPassword","setStatus","minHeight","warning","store","createStore","ReactDOM","RequstResetPassword","useParams","resetLink","getElementById"],"mappings":"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","file":"static/js/main.3fe48b0e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/photo-1431578500526-4d9613015464.0c528dc7.jpeg\";","export default __webpack_public_path__ + \"static/media/logo.7881a2cc.png\";","export default __webpack_public_path__ + \"static/media/logo-4.0ee99ea5.png\";","export default __webpack_public_path__ + \"static/media/face-3.62232de2.jpg\";","import axios from './axios';\r\n\r\nconst setAuthToken = token => {\r\n    if (token) {\r\n        axios.defaults.headers.common[\"Authorization\"] = `${token}`;\r\n    } else {\r\n        delete axios.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default setAuthToken;","import setAuthToken from \"setAuthToken.js\";\r\nimport { signout } from \"./api-auth.js\";\r\n\r\nconst auth = {\r\n  isAuthenticated() {\r\n    if (typeof window == \"undefined\") return false;\r\n\r\n    if (sessionStorage.getItem(\"jwt\"))\r\n      return JSON.parse(sessionStorage.getItem(\"jwt\"));\r\n    else return false;\r\n  },\r\n  isAuthenticatedVendor() {\r\n    if (typeof window == \"undefined\") return false;\r\n    if (sessionStorage.getItem(\"jwtVendor\"))\r\n      return JSON.parse(sessionStorage.getItem(\"jwtVendor\"));\r\n    else return false;\r\n  },\r\n  authenticate(jwt, cb) {\r\n    setAuthToken(jwt.token);\r\n    if (typeof window !== \"undefined\")\r\n      sessionStorage.setItem(\"jwt\", JSON.stringify(jwt));\r\n    cb();\r\n  },\r\n  clearJWT(cb) {\r\n    if (typeof window !== \"undefined\") sessionStorage.removeItem(\"jwt\");\r\n    cb();\r\n    //optional\r\n    signout().then((data) => {\r\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n    });\r\n  },\r\n  authenticateVendor(data) {\r\n    if (typeof window !== \"undefined\")\r\n      sessionStorage.setItem(\"jwtVendor\", JSON.stringify(data));\r\n  },\r\n  clearVendorJWT(cb) {\r\n    if (typeof window !== \"undefined\") sessionStorage.removeItem(\"jwtVendor\");\r\n    cb();\r\n  },\r\n  getVendor() {\r\n    if (typeof window == \"undefined\") return false;\r\n\r\n    if (sessionStorage.getItem(\"jwtVendor\"))\r\n      return JSON.parse(sessionStorage.getItem(\"jwtVendor\"));\r\n    else return false;\r\n  },\r\n\r\n  updateUser(user, cb) {\r\n    if (typeof window !== \"undefined\") {\r\n      if (sessionStorage.getItem(\"jwt\")) {\r\n        let auth = JSON.parse(sessionStorage.getItem(\"jwt\"));\r\n        auth.user = user;\r\n        sessionStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n        cb();\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\nexport default auth;\r\n","import axios from \"../axios\";\r\n\r\nconst signin = (user) => {\r\n  return axios.post(\"/auth/signin\", user);\r\n};\r\n\r\nconst signout = () => {\r\n  return axios.get(\"/auth/signout\");\r\n};\r\n\r\nexport { signin, signout };\r\n","export const herouke = \"https://procurementsolution.herokuapp.com\";\r\n","import axios from \"axios\";\r\nimport auth from \"./auth/auth-helper\";\r\nimport { herouke } from \"./url\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://procurementsolution.herokuapp.com/api\",\r\n});\r\n\r\ninstance.interceptors.request.use(\r\n  (request) => {\r\n    return request;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\ninstance.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default instance;\r\n","import axios from '../axios';\r\n\r\nconst create = (budget) => {\r\n  return axios.post('/budget', budget);\r\n};\r\nconst list = () => {\r\n  return axios.get('/budgettest');\r\n};\r\n\r\nconst getAllBudget = () => {\r\n  return axios.get('/budget');\r\n};\r\n\r\nconst getBudgetTypeList = () => {\r\n  return axios.get('/budgettype');\r\n};\r\n\r\nconst getBudgetById = (params) => {\r\n  return axios.get('/budget/additionalBudget/' + params.id);\r\n};\r\n\r\nconst additionalBudgetUpdate = (params, budget) => {\r\n  return axios.put(\"/budget/additionalbudget/\" + params.budgetId, budget);\r\n};\r\n\r\nconst budgetUsageByDepartment = (params) => {\r\n  return axios.get(\"budgetusage/by/\" + params.departmentId);\r\n};\r\n\r\nconst update = (params, user) => {\r\n  return axios.put(\"budget/update\" + params.budgetId, user);\r\n};\r\n\r\nconst read = (params) => {\r\n  return axios.get(\"/budget/\" + params.budgetId);\r\n};\r\n\r\nconst getBudgetByDepartment = (userDept) => {\r\n  return axios.post(\"budget/departmentBudget\", userDept);\r\n};\r\n\r\nexport {\r\n  create,\r\n  list,\r\n  getBudgetTypeList,\r\n  getBudgetById,\r\n  update,\r\n  read,\r\n  additionalBudgetUpdate,\r\n  getBudgetByDepartment,\r\n  budgetUsageByDepartment,\r\n  getAllBudget,\r\n};\r\n","import React from \"react\";\r\n\r\n// react-bootstrap components\r\nimport { Badge, Button, Navbar, Nav, Container } from \"react-bootstrap\";\r\n\r\nfunction Maps() {\r\n  const mapRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    let google = window.google;\r\n    let map = mapRef.current;\r\n    let lat = \"40.748817\";\r\n    let lng = \"-73.985428\";\r\n    const myLatlng = new google.maps.LatLng(lat, lng);\r\n    const mapOptions = {\r\n      zoom: 13,\r\n      center: myLatlng,\r\n      scrollwheel: false,\r\n      zoomControl: true,\r\n    };\r\n\r\n    map = new google.maps.Map(map, mapOptions);\r\n\r\n    const marker = new google.maps.Marker({\r\n      position: myLatlng,\r\n      map: map,\r\n      animation: google.maps.Animation.DROP,\r\n      title: \"Light Bootstrap Dashboard PRO React!\",\r\n    });\r\n\r\n    const contentString =\r\n      '<div class=\"info-window-content\"><h2>Light Bootstrap Dashboard PRO React</h2>' +\r\n      \"<p>A premium Admin for React-Bootstrap, Bootstrap, React, and React Hooks.</p></div>\";\r\n\r\n    const infowindow = new google.maps.InfoWindow({\r\n      content: contentString,\r\n    });\r\n\r\n    google.maps.event.addListener(marker, \"click\", function () {\r\n      infowindow.open(map, marker);\r\n    });\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div className=\"map-container\">\r\n        <div id=\"map\" ref={mapRef}></div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Maps;\r\n","import React from \"react\";\r\n\r\n// react-bootstrap components\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Card,\r\n  Navbar,\r\n  Nav,\r\n  Table,\r\n  Container,\r\n  Row,\r\n  Col,\r\n} from \"react-bootstrap\";\r\n\r\nfunction Upgrade() {\r\n  return (\r\n    <>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col className=\"ml-auto mr-auto\" md=\"8\">\r\n            <Card>\r\n              <div className=\"header text-center\">\r\n                <h4 className=\"title\">Light Bootstrap Dashboard PRO React</h4>\r\n                <p className=\"category\">\r\n                  Are you looking for more components? Please check our Premium\r\n                  Version of Light Bootstrap Dashboard React.\r\n                </p>\r\n                <br></br>\r\n              </div>\r\n              <Table responsive>\r\n                <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th className=\"text-center\">Free</th>\r\n                    <th className=\"text-center\">PRO</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>Components</td>\r\n                    <td>16</td>\r\n                    <td>115+</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Plugins</td>\r\n                    <td>4</td>\r\n                    <td>14+</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Example Pages</td>\r\n                    <td>4</td>\r\n                    <td>22+</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Documentation</td>\r\n                    <td>\r\n                      <i className=\"fas fa-times text-danger\"></i>\r\n                    </td>\r\n                    <td>\r\n                      <i className=\"fas fa-check text-success\"></i>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>SASS Files</td>\r\n                    <td>\r\n                      <i className=\"fas fa-times text-danger\"></i>\r\n                    </td>\r\n                    <td>\r\n                      <i className=\"fas fa-check text-success\"></i>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Login/Register/Lock Pages</td>\r\n                    <td>\r\n                      <i className=\"fas fa-times text-danger\"></i>\r\n                    </td>\r\n                    <td>\r\n                      <i className=\"fas fa-check text-success\"></i>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Premium Support</td>\r\n                    <td>\r\n                      <i className=\"fas fa-times text-danger\"></i>\r\n                    </td>\r\n                    <td>\r\n                      <i className=\"fas fa-check text-success\"></i>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td></td>\r\n                    <td>Free</td>\r\n                    <td>Just $49</td>\r\n                  </tr>\r\n                  <tr className=\"last-row\">\r\n                    <td></td>\r\n                    <td>\r\n                      <Button\r\n                        className=\"btn-round btn-fill disabled\"\r\n                        href=\"#pablo\"\r\n                        onClick={(e) => e.preventDefault()}\r\n                        variant=\"default\"\r\n                      >\r\n                        Current Version\r\n                      </Button>\r\n                    </td>\r\n                    <td>\r\n                      <Button\r\n                        className=\"btn-round btn-fill\"\r\n                        href=\"http://www.creative-tim.com/product/light-bootstrap-dashboard-pro-react/?ref=lbdrupgrade\"\r\n                        target=\"_blank\"\r\n                        variant=\"info\"\r\n                      >\r\n                        Upgrade to PRO\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </Table>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Upgrade;\r\n","import axios from '../axios';\r\n\r\nconst create = (department) => {\r\n\treturn axios.post('/department', department);\r\n};\r\n\r\nconst list = () => {\r\n\treturn axios.get('/department');\r\n};\r\n\r\nconst readDepartment = (params) => {\r\n\treturn axios.get('/department/' + params.id);\r\n};\r\n\r\nconst remove = (params) => {\r\n\treturn axios.delete('/department/' + params.id);\r\n};\r\n\r\n\r\nconst update = (params, department) => {\r\n\treturn axios.put('/department/' + params.id, department);\r\n};\r\n\r\nexport { create, list,readDepartment,remove,update };","import React, { useMemo, useState,useEffect } from \"react\";\r\nimport Pagination from \"react-bootstrap/Pagination\";\r\nconst PaginationContent = ({\r\n\ttotal = 0,\r\n\titemsPerPage = 2,\r\n\tcurrentPage = 1,\r\n\tonPageChange\r\n}) => {\r\n\tconst [totalPages, setTotalPages] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (total > 0 && itemsPerPage > 0) {\r\n\t\t\tsetTotalPages(Math.ceil(total / itemsPerPage));\r\n\t\t}\r\n\t}, [total, itemsPerPage]);\r\n\r\n\tconst paginationItems = useMemo(() => {\r\n\t\tconst pages = [];\r\n\t\tfor (let i = 1; i <= totalPages; i++) {\r\n\t\t\tpages.push(\r\n\t\t\t\t<Pagination.Item\r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t\tactive={i === currentPage}\r\n\t\t\t\t\tonClick={() => onPageChange(i)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{i}\r\n\t\t\t\t</Pagination.Item>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn pages;\r\n\t}, [totalPages, currentPage]);\r\n\tif(totalPages===0) return null;\r\n\treturn (\r\n\t\t<Pagination>\r\n\t\t\t<Pagination.Prev\r\n\t\t\t\tonClick={() => onPageChange(currentPage - 1)}\r\n\t\t\t\tdisabled={currentPage === 1}\r\n\t\t\t/>\r\n\t\t\t{paginationItems}\r\n\t\t\t<Pagination.Next\r\n\t\t\t\tonClick={() => onPageChange(currentPage + 1)}\r\n\t\t\t\tdisabled={currentPage === totalPages}\r\n\t\t\t/>\r\n\t\t</Pagination>\r\n\t);\r\n};\r\nexport default PaginationContent;\r\n","import auth from \"../../auth/auth-helper\";\r\nimport { herouke } from \"../../url\";\r\n\r\nconst list = async (signal = null) => {\r\n  try {\r\n    let response = await fetch(`${herouke}/api/vquotation/view`, {\r\n      method: \"GET\",\r\n      signal: signal,\r\n    });\r\n    if (response.ok && response.status === 200) {\r\n      return response.json();\r\n    } else {\r\n      throw \"Error occur\";\r\n    }\r\n  } catch (err) {\r\n    console.log(\"er\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst getQuotationByVendor = async (signal = null) => {\r\n  let id = auth.isAuthenticatedVendor().user.vendorId;\r\n  console.log(id, \"id\");\r\n  try {\r\n    let response = await fetch(`${herouke}/api/vquotation/vendor/${id}`, {\r\n      method: \"GET\",\r\n      signal: signal,\r\n    });\r\n    if (response.ok && response.status === 200) {\r\n      return response.json();\r\n    } else {\r\n      throw \"Error occur\";\r\n    }\r\n  } catch (err) {\r\n    console.log(\"er\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst getQuotationByVendorByStatus = async (status) => {\r\n  let token = auth.isAuthenticatedVendor().token;\r\n  let payload = {\r\n    status,\r\n  };\r\n\r\n  try {\r\n    let response = await fetch(\r\n      `${herouke}/api/vquotation/view/vendor/quotationstatus`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify(payload),\r\n      }\r\n    );\r\n\r\n    if (response.ok) {\r\n      return response.json();\r\n    } else {\r\n      throw \"Error occur\";\r\n    }\r\n  } catch (err) {\r\n    console.log(\"er\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst getQuotationByCaseId = async (caseId) => {\r\n  let id = auth.isAuthenticatedVendor().user.vendorId;\r\n  //   let payload = {\r\n  //     caseId: caseId,\r\n  //     vendorId: id,\r\n  //   };\r\n\r\n  let payload = {\r\n    caseId,\r\n    vendorId: id,\r\n  };\r\n  console.log(payload);\r\n  try {\r\n    let response = await fetch(`${herouke}/api/v1/request/getorder`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n    if (response.ok) {\r\n      return response.json();\r\n    } else {\r\n      throw \"Error occur\";\r\n    }\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(\"er\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst uploadQuotation = async (payload) => {\r\n  let token = auth.isAuthenticatedVendor().token;\r\n  console.log(payload);\r\n  try {\r\n    let response = await fetch(`${herouke}/api/vendorQUpload`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        //  \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: payload,\r\n    });\r\n    console.log(response, \"rep in upload\");\r\n    if (!response.ok) throw response.text;\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(\"er upload\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport {\r\n  list,\r\n  getQuotationByVendor,\r\n  getQuotationByCaseId,\r\n  getQuotationByVendorByStatus,\r\n  uploadQuotation,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\n\r\nconst TableHeader = ({ headers, onSorting }) => {\r\n\tconst [sortingField, setSortingField] = useState(\"\");\r\n\tconst [sortingOrder, setSortingOrder] = useState(\"asc\");\r\n\r\n\tconst onSortingChange = (field) => {\r\n\t\tconst order =\r\n\t\t\tfield === sortingField && sortingOrder === \"asc\" ? \"desc\" : \"asc\";\r\n\t\tsetSortingField(field);\r\n\t\tsetSortingOrder(order);\r\n\t\tonSorting(field, order);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t{headers.map(({ name, field, sortable }) => (\r\n\t\t\t\t\t<th\r\n\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t\tonClick={() => (sortable ? onSortingChange(field) : null)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t{sortingField && sortingField === field && (\r\n\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tsortingOrder === \"asc\" ? \"fa fa-arrow-down\" : \"fa fa-arrow-up\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</th>\r\n\t\t\t\t))}\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t);\r\n};\r\nexport default TableHeader;\r\n","const numberWithCommas = (x) => {\r\n  if (!x) return null;\r\n  return \"\" + x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  if (!date) return null;\r\n  return new Date(date).setHours(0, 0, 0, 0);\r\n};\r\n\r\nexport { numberWithCommas, formatDate };\r\n","import auth from \"../../auth/auth-helper\";\r\n\r\nconst approveQuotation = async (id, payload) => {\r\n  console.log(\"token vendor\", auth.isAuthenticated().token);\r\n  try {\r\n    let response = await fetch(\r\n      `http://localhost:3050/api/vquotation/approve/${id}`,\r\n      {\r\n        method: \"PUT\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + auth.isAuthenticated().token,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      }\r\n    );\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n    throw err;\r\n    return;\r\n  }\r\n};\r\n\r\nconst rejectQuotation = async (id,payload) => {\r\n  try {\r\n    let response = await fetch(\r\n\t\t\t`http://localhost:3050/api/vquotation/approve/${id}`,\r\n\t\t\t{\r\n\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: \"Bearer \" + auth.isAuthenticated().token,\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(payload),\r\n\t\t\t}\r\n\t\t);\r\n    return await response.json();\r\n  } catch (err) {\r\n    throw err;\r\n    return;\r\n  }\r\n};\r\n\r\nexport { rejectQuotation, approveQuotation };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { list } from \"../VendorQuotation/api-vendorQuotation\";\r\nimport TableHeader from \"../../components/TableHeader/TableHeader\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport { numberWithCommas } from \"../../helpers\";\r\nimport { toast } from \"react-toastify\";\r\nimport { approveQuotation, rejectQuotation } from \"./api-listQuotation\";\r\nimport {\r\n  Card,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n  ButtonGroup,\r\n  Modal,\r\n  Form,\r\n  DropdownButton,\r\n  Dropdown,\r\n} from \"react-bootstrap\";\r\n\r\nconst STATUS = {\r\n  APPROVED: \"Approved\",\r\n  REJECTED: \"Rejected\",\r\n  ALL: \"all\",\r\n  PENDING: \"Pending\",\r\n};\r\n\r\nlet ITEMS_PER_PAGE = 10;\r\n\r\nconst headers = [\r\n  { name: \"SN\", field: \"id\" },\r\n  { name: \"Case Id\", field: \"\", sortable: false },\r\n  { name: \"Total Amount\", field: \"hod\", sortable: true },\r\n  //   { name: \"Vendor Email\", field: \"unit\", sortable: true },\r\n  //   { name: \"Vendor Name\", field: \"hod\", sortable: true },\r\n  { name: \"Comments\", field: \"unit\", sortable: true },\r\n  { name: \"Created Date\", field: \"hod\", sortable: true },\r\n  { name: \"Actions/Status\", field: \"hod\", sortable: true },\r\n];\r\n\r\nconst ListQuotation = () => {\r\n  const [vendorQuotation, setVendorQuotation] = useState([]);\r\n  const [displayData, setDisplayData] = useState([]);\r\n  const [totalItems, setTotaltems] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [show, setShow] = useState(false);\r\n  const [approvalComment, setApprovalComment] = useState(\"\");\r\n  const [clickId, setClickId] = useState(\"\");\r\n  const [approvalCommentError, setApprovalCommentError] = useState(false);\r\n\r\n  const fetchVedorQuotation = () => {\r\n    list().then((res) => {\r\n      console.log(\"response\", res);\r\n      console.log(\"Vendor list data\", res.data);\r\n      setVendorQuotation(res.data);\r\n      setTotaltems(res.data.length);\r\n    });\r\n  };\r\n\r\n  const handleApprove = () => {\r\n    if (approvalComment.length > 3) {\r\n      let payload = {\r\n        status: \"Approved\",\r\n        approvalComment: approvalComment,\r\n      };\r\n      approveQuotation(clickId, payload)\r\n        .then((res) => {\r\n          console.log(res.data, \"approved\");\r\n          toast.success(\"Quotation has been Approved successfully\");\r\n          setVendorQuotation((prev) => {\r\n            let newState = prev.map((i) => {\r\n              let newObj = i;\r\n              if (newObj.id === clickId) {\r\n                newObj.status = STATUS.APPROVED;\r\n                console.log(\"ok i in\");\r\n              }\r\n              return newObj;\r\n            });\r\n            return newState;\r\n          });\r\n          handleClose();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          toast.error(\"An Error Occur while rejecting\");\r\n          handleClose();\r\n        });\r\n    } else {\r\n      setApprovalCommentError(true);\r\n    }\r\n  };\r\n\r\n  const handleRejection = (item) => {\r\n    let payload = {\r\n      status: \"Rejected\",\r\n      approvalComment: \"...latessome comments\",\r\n      // approvalComment: approvalComment,\r\n    };\r\n    rejectQuotation(item.id, payload)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        toast.success(\"Quotation has been Rejected\");\r\n        handleClose();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        toast.error(\"An Error occur while Rejecting\");\r\n        handleClose();\r\n      });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setClickId(\"\");\r\n    setApprovalComment(\"\");\r\n    setShow(false);\r\n    setApprovalCommentError(false);\r\n  };\r\n  const approveClick = (id) => {\r\n    setClickId(id);\r\n    setShow(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n    fetchVedorQuotation(signal);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let lastIndex = currentPage * ITEMS_PER_PAGE;\r\n    let startIndex = lastIndex - ITEMS_PER_PAGE;\r\n    let newData = vendorQuotation.slice(startIndex, lastIndex);\r\n    setDisplayData(newData);\r\n  }, [currentPage, vendorQuotation]);\r\n\r\n  return (\r\n    <div>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Card>\r\n              <Card.Header className=\"d-flex justify-content-between\">\r\n                <Card.Title as=\"h4\">List Of Quotations</Card.Title>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <Pagination\r\n                    total={totalItems}\r\n                    itemsPerPage={ITEMS_PER_PAGE}\r\n                    currentPage={currentPage}\r\n                    onPageChange={(page) => setCurrentPage(page)}\r\n                  />\r\n                </div>\r\n                <Table responsive>\r\n                  <TableHeader\r\n                    headers={headers}\r\n                    onSorting={(field, order) => setSorting({ field, order })}\r\n                  />\r\n                  <tbody>\r\n                    {displayData.map((item, index) => {\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            {index +\r\n                              1 * (ITEMS_PER_PAGE * (currentPage - 1)) +\r\n                              1}\r\n                          </td>\r\n                          <td>{item.caseId}</td>\r\n                          <td>{numberWithCommas(item.totalAmount)}</td>\r\n                          {/* {<td>{item.createBy}</td>\r\n                          <td>{item.name}</td>} */}\r\n                          <td>{item.comment}</td>\r\n                          <td>\r\n                            {new Date(item.createdAt).toLocaleDateString()},{\" \"}\r\n                            {new Date(item.createdAt).toLocaleTimeString()}\r\n                          </td>\r\n\r\n                          <td>\r\n                            {item.status === STATUS.REJECTED && \"Rejected\"}\r\n                            {item.status === STATUS.APPROVED && \"Approved\"}\r\n                            {item.status !== STATUS.REJECTED &&\r\n                              item.status !== STATUS.APPROVED && (\r\n                                <>\r\n                                  <Button\r\n                                    variant=\"success\"\r\n                                    className=\"mr-4\"\r\n                                    onClick={() => approveClick(item.id)}\r\n                                  >\r\n                                    Approve\r\n                                  </Button>\r\n                                  <Button\r\n                                    variant=\"danger\"\r\n                                    onClick={() => handleRejection(item)}\r\n                                  >\r\n                                    Reject\r\n                                  </Button>\r\n                                </>\r\n                              )}\r\n                            {/* {item.status === STATUS.APPROVED ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Approved\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => approveClick(item.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tApprove\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRejection(item)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tReject\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)} */}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Add Approval Comment</Modal.Title>\r\n          </Modal.Header>\r\n\r\n          <Form>\r\n            <Modal.Body>\r\n              <Form.Group controlId=\"Approval Comment\">\r\n                <Form.Label>Approval Comment</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={3}\r\n                  value={approvalComment}\r\n                  onChange={(e) => setApprovalComment(e.target.value)}\r\n                  name=\"approvalComment\"\r\n                ></Form.Control>\r\n                {approvalCommentError && (\r\n                  <Form.Text className=\"text-danger\">\r\n                    please input an Approval comment\r\n                  </Form.Text>\r\n                )}\r\n              </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" onClick={() => handleApprove()}>\r\n                Submit\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        </Modal>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListQuotation;\r\n","import React, { useState } from \"react\";\r\nconst Search = ({ onSearch,placeholder }) => {\r\n\tconst [search, setSearch] = useState(\"\");\r\n\tconst onInputChange = (value) => {\r\n\t\tsetSearch(value);\r\n\t\tonSearch(value);\r\n\t};\r\n\treturn (\r\n\t\t<input\r\n\t\t\ttype=\"text\"\r\n\t\t\tclassName=\"form-control\"\r\n\t\t\tstyle={{ width: \"240px\" }}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tvalue={search}\r\n\t\t\tonChange={(e) => onInputChange(e.target.value)}\r\n\t\t/>\r\n\t);\r\n};\r\nexport default Search;\r\n","import React, { useState } from 'react';\r\nimport { Button, Modal, Form } from 'react-bootstrap';\r\n\r\nfunction CsvImport(props) {\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const onFileChange = event => {\r\n        const file = event.target.files[0];\r\n        props.setFile(file);\r\n        // setCanSubmit(true);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Button size=\"sm\" variant=\"info\" onClick={handleShow}>\r\n            Csv Import\r\n        </Button>\r\n\r\n        <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Import Csv</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.File \r\n                        id=\"custom-file\"\r\n                        label=\"Upload File\"\r\n                        onChange={onFileChange}\r\n                    />\r\n                </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"primary\" onClick={() => props.onUpload(handleClose)}>\r\n                    Upload\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default CsvImport;","import React, { useState, useMemo, useEffect } from \"react\";\r\nimport Pagination from \"../components/Pagination/Pagination\"\r\nimport { useLocation, NavLink } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Search from \"../components/Search/Search\"\r\nimport TableHeader from \"../components/TableHeader/TableHeader\"\r\nimport auth from \"../auth/auth-helper\";\r\nimport {\r\n\tCard,\r\n\tContainer,\r\n\tRow,\r\n\tCol,\r\n\tTable,\r\n\tModal,\r\n\tForm,\r\n\tButton\r\n} from \"react-bootstrap\";\r\nimport CsvImport from '../components/CsvImport';\r\nimport axios from '../axios';\r\nimport { toast } from 'react-toastify';\r\nimport {numberWithCommas} from '../helpers';\r\nimport { list } from '../department/api-dept';\r\nimport { connect } from 'react-redux';\r\nimport { create, getBudgetTypeList, additionalBudgetUpdate } from \"./api-budget\";\r\nimport { getBudgetByDepartment } from './api-budget';\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t  handleUpdate: (payload) => dispatch({ type: 'UPDATE', payload: payload })\r\n\t}\r\n};\r\n\r\nfunction Budget(props) {\r\n\tconst [show, setShow] = useState(false);\r\n\tconst [showTopUp, setShowTopUp] = useState(false);\r\n\tconst [budgets, setBudgets] = useState([]);\r\n\tconst [totalItems, setTotaltems] = useState(0);\r\n\tconst [currentPage, setCurrentPage] = useState(1);\r\n\tconst [search, setSearch] = useState(\"\");\r\n\tconst [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n\tconst [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [needsReload, setNeedsReload] = useState(true);\r\n\tconst [values, setValues] = useState({\r\n\t\tamount: '',\r\n\t\tdepartmentId: '',\r\n\t\tbudgetTypeId: '',\r\n\t\tstartDate: '',\r\n\t\tendDate: '',\r\n\t});\r\n\tconst [departments, setDepartments] = useState([]);\r\n\tconst [budgetTypes, setBudgetTypes] = useState([]);\r\n\tconst ITEMS_PER_PAGE = 10;\r\n\tconst jwt = auth.isAuthenticated();\r\n\r\n\tconst headers = [\r\n\t\t{ name: \"#\", field: \"id\" },\r\n\t\t{ name: \"Department\", field: \"departmentId\", sortable: true },\r\n\t\t// { name: \"Budget Type\", field: \"budgetTypeId\", sortable: true },\r\n\t\t{ name: \"Amount\", field: \"amount\", sortable: true },\r\n\t\t{ name: \"Start Date\", field: \"startDate\", sortable: true },\r\n\t\t{ name: \"End Date\", field: \"endDate\", sortable: true },\r\n\t\t{ name: \"\", field: \"\", sortable: false },\r\n\t];\r\n\r\n\tconst handleOnChange = ({target}) => {\r\n        setValues({...values, [target.name]: target.value});\r\n\t};\r\n\t\r\n\tconst handleTopUpShow = (uuid) => {\r\n\t\tconst budget = budgets.find(budget => budget.id == uuid);\r\n\t\tsetValues({\r\n\t\t\tid: budget.id,\r\n\t\t\t...values\r\n\t\t})\r\n\t\tsetShowTopUp(true);\r\n\t}\r\n\tconst handleTopUpClose = () => {\r\n\t\tsetShowTopUp(false);\r\n\t\thandleClose();\r\n\t}\r\n\tconst handleShow = () => setShow(true);\r\n\tconst handleClose = () => {\r\n\t\tsetShow(false);\r\n\t\tsetValues({\r\n\t\t\tamount: '',\r\n\t\t\tdepartmentId: '',\r\n\t\t\tbudgetTypeId: '',\r\n\t\t\tstartDate: '',\r\n\t\t\tendDate: '',\r\n\t\t});\r\n\t}\r\n\r\n\tconst updateBudgetP = (signal) => {\r\n\t\tgetBudgetByDepartment(\r\n\t\t\t{\r\n\t\t\t\tdepartmentId: auth.isAuthenticated()\r\n\t\t\t\t\t? auth.isAuthenticated().user.departmentId\r\n\t\t\t\t\t: \"cd29f9a5-73e6-4aa8-b8fe-7a0cad9b2142\",\r\n\t\t\t},\r\n\t\t\tsignal\r\n\t\t).then((data) => {\r\n\t\t\t\r\n\t\t\t\tprops.handleUpdate(data.data[0]);\r\n\t\t\t\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleTopUp = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst updateBudget = {\r\n\t\t\tamount: values.amount,\r\n\t\t};\r\n\t\tadditionalBudgetUpdate(\r\n\t\t\t{\r\n\t\t\t\tbudgetId: values.id,\r\n\t\t\t},\r\n\t\t\tupdateBudget\r\n\t\t).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\t// console.log(data.error);\r\n\t\t\t\t// setValues({ ...values, error: data.error });\r\n\t\t\t} else {console.log(data);\r\n\t\t\t\ttoast.success('Topup successful!');\r\n\t\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\t\thandleTopUpClose()\r\n\t\t\t\tupdateBudgetP()\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tcreate(values).then((data) => {\r\n\t\t\tif (data.errors) {\r\n\t\t\t\t// console.log(data.errors);\r\n\t\t\t\t// setValues({ ...values, error: data.error });\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(\"datasss\", data);\r\n\t\t\t\t// setValues({ ...values, error: \"\", redirect: true });\r\n\t\t\t\thandleClose();\r\n\t\t\t\ttoast.success(data.message);\r\n\t\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\t\tupdateBudgetP();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\r\n\tconst fetchDepartments = (signal) => {\r\n\t\tlist().then((data) => {\r\n\t\t\tconsole.log(\"fetchedDataDepartment\",data)\r\n\t\t\tif (data && data.error) {\r\n\t\t\t\tconsole.log(\"Error\", data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetDepartments(data.data);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst fetchBudgetTypes = () => {\r\n\t\tgetBudgetTypeList().then((data) => {\r\n\t\t\tif (data && data.error) {\r\n\t\t\t\tconsole.log(data.error);\r\n\t\t\t} else {\r\n\t\t\t\tsetBudgetTypes(data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getData = () => {\r\n\t\t\tfetch(\"http://localhost:3050/api/budget\", {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\tAuthorization: \"Bearer \" + jwt.token,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((json) => {\r\n\t\t\t\t\tconsole.log(\"BudgetsJson\",json)\r\n\t\t\t\t\tsetBudgets(json.data);\r\n\t\t\t\t});\r\n\t\t};\r\n\t\tgetData();\r\n\t\tfetchDepartments();\r\n\t\tfetchBudgetTypes();\r\n\t}, [needsReload]);\r\n\r\n\tconst onFileUpload = (close) => {\r\n\t\tlet data = new FormData();\r\n\t\tdata.append('files', selectedFile);\r\n\t\taxios.post('/budgetUpload', data).then(res => {\r\n\t\t\ttoast.success(res.data.message);\r\n\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\tsetSelectedFile(null);\r\n\t\t\tclose();\r\n\t\t}).catch(err => {\r\n\t\t\ttoast.error(err.response.data.errors ? err.response.data.errors : 'An error occurred');\r\n\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\tsetSelectedFile(null);\r\n\t\t\tclose();\r\n\t\t})\r\n\t};\r\n\r\n\tconst isActionAllowed = action => {\r\n\t\treturn props.actions.includes(action);\r\n\t}\r\n\r\n\tconst budgetsData = useMemo(() => {\r\n\t\tlet computedBudgets = budgets;\r\n\r\n\t\tif (search) {\r\n\t\t\tcomputedBudgets = computedBudgets.filter(\r\n\t\t\t\t(budget) =>\r\n\t\t\t\t\t// budget.name.toLowerCase().includes(search.toLowerCase()) ||\r\n\r\n\t\t\t\t\tbudget.dept.name.toLowerCase().includes(search.toLowerCase()) ||\r\n\t\t\t\t\tbudget.amount\r\n\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t.includes(search.toString().toLowerCase()) ||\r\n\t\t\t\t\tbudget.startDate\r\n\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t.includes(search.toString().toLowerCase()) ||\r\n\t\t\t\t\tbudget.endDate\r\n\t\t\t\t\t\t.toString()\r\n\t\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t\t.includes(search.toString().toLowerCase()) \r\n\t\t\t\t\t// budget.budgetType.name.toLowerCase().includes(search.toLowerCase())\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetTotaltems(computedBudgets.length);\r\n\r\n\t\t//sorting budgets\r\n\t\tif (sorting.field) {\r\n\t\t\tconst reversed = sorting.order === \"asc\" ? 1 : -1;\r\n\t\t\tcomputedBudgets = computedBudgets.sort(\r\n\t\t\t\t(a, b) =>\r\n\t\t\t\t\treversed *\r\n\t\t\t\t\ta[sorting.field].toString().localeCompare(b[sorting.field].toString())\r\n\t\t\t);\r\n\t\t}\r\n\t\t//current Page Slice\r\n\t\treturn computedBudgets.slice(\r\n\t\t\t(currentPage - 1) * ITEMS_PER_PAGE,\r\n\t\t\t(currentPage - 1) * ITEMS_PER_PAGE + ITEMS_PER_PAGE\r\n\t\t);\r\n\t}, [budgets, currentPage, search, sorting]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Header className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t\t\t<Card.Title as=\"h4\">Budgets</Card.Title>\r\n\t\t\t\t\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2\" variant=\"info\" onClick={handleShow}>\r\n\t\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t{isActionAllowed('add-budget') && <CsvImport setFile={setSelectedFile} onUpload={onFileUpload} />}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<div className=\"row w-100\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col mb-3 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={totalItems}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemsPerPage={ITEMS_PER_PAGE}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonPageChange={(page) => setCurrentPage(page)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSearch(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentPage(1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search budget\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t\t\t\t\t\t<TableHeader\r\n\t\t\t\t\t\t\t\t\t\t\t\theaders={headers}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSorting={(field, order) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSorting({ field, order })\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{budgetsData.map((budget, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"row\">{comment.id}</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{((currentPage - 1) * ITEMS_PER_PAGE) + i + 1}</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{budget.dept.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <td>{budget.budgetType.name}</td> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{numberWithCommas(budget.amount)}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(budget.startDate).toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(budget.endDate).toLocaleDateString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tundefined,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"success\" onClick={() => handleTopUpShow(budget.id)}>Topup</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {isActionAllowed('top-up') && <Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={\"/admin/bud/additionalBudget/\" + budget.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-pencil-square-o\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>} */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title>Add Budget</Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId=\"role\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Department</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control as=\"select\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.departmentId}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\tname=\"departmentId\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select Department</option>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tdepartments.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={item.id} key={item.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t\t<Form.Group controlId=\"startDate\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Start Date</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"startDate\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Start Date\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.startDate}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId=\"endDate\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>End Date</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"endDate\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"End Date\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.endDate}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Amount</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"amount\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Amount\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.amount}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Budget Type</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control as=\"select\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.budgetTypeId}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\tname=\"budgetTypeId\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select Type</option>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tbudgetTypes.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={item.id} key={item.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t<Modal show={showTopUp} onHide={handleTopUpClose}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title>Top Up</Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t\t\t\t<Form onSubmit={handleTopUp}>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Amount</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tmin=\"10\"\r\n\t\t\t\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"amount\"\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Amount\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={values.amount}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Budget);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  Form,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Table,\r\n} from \"react-bootstrap\";\r\nimport axios from \"../axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { connect } from \"react-redux\";\r\nimport { getBudgetByDepartment } from \"../budget/api-budget\";\r\nimport auth from \"../auth/auth-helper\";\r\nimport { trackPromise } from 'react-promise-tracker';\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleUpdate: (payload) => dispatch({ type: \"UPDATE\", payload: payload }),\r\n  };\r\n};\r\n\r\nfunction PurchaseRequest({ handleUpdate }) {\r\n  const init = {\r\n    narration: \"\",\r\n    amount: \"\",\r\n    expenseTypeId: \"\",\r\n  };\r\n  const [inputList, setInputList] = useState([]);\r\n  const [expenseTypes, setExpenseTypes] = useState([]);\r\n  const [input, setInput] = useState(init);\r\n\r\n  useEffect(() => {\r\n    fetchBudgets();\r\n  }, []);\r\n\r\n  const fetchBudgets = () => {\r\n    trackPromise (\r\n      getBudgetByDepartment({\r\n        departmentId: auth.isAuthenticated().user.departmentId,\r\n      }).then((res) => {\r\n        let data;\r\n        console.log(\"newLog\", res.data);\r\n        if (res.data.data.length > 0) {\r\n          data = res.data.data.map((datum) => {\r\n            return {\r\n              name: datum.expenseType.name,\r\n              id: datum.expenseTypeId,\r\n            };\r\n          });\r\n        } else {\r\n          data = [];\r\n        }\r\n        console.log(data, \"final datat\");\r\n\r\n        setExpenseTypes(data);\r\n      })\r\n    );\r\n  };\r\n\r\n  // handle click event of the Remove button\r\n  const handleRemoveClick = (index) => {\r\n    const list = [...inputList];\r\n    list.splice(index, 1);\r\n    setInputList(list);\r\n  };\r\n\r\n  const handleOnEdit = (index) => {\r\n    const list = [...inputList];\r\n    const item = list[index];\r\n    setInput(item);\r\n    list.splice(index, 1);\r\n    setInputList(list);\r\n  };\r\n\r\n  // handle click event of the Add button\r\n  const handleAddClick = () => {\r\n    setInputList([...inputList, input]);\r\n    setInput(init);\r\n  };\r\n  // handle click event of the Make Purchase button\r\n  const handlePurchase = () => {\r\n    const data = inputList.map((list) => {\r\n      return {\r\n        amount: list.amount,\r\n        narration: list.narration,\r\n        expenseTypeId: list.expenseTypeId,\r\n        requestedBy: auth.isAuthenticated().user.email.split(\"@\")[0],\r\n        departmentId: auth.isAuthenticated().user.departmentId,\r\n      };\r\n    });\r\n\r\n    const newData = data.filter((item) => item.amount != 0);\r\n    trackPromise(\r\n      axios\r\n        .post(\"/v1/log\", newData)\r\n        .then((res) => {\r\n          toast.success(res.data.message);\r\n          setInput(init);\r\n          setInputList([]);\r\n        })\r\n        .catch((err) => {\r\n          toast.error(err.response.data.message);\r\n        })\r\n    );\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setInput({ ...input, [target.name]: target.value });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Card>\r\n              <Card.Header>\r\n                <Card.Title as=\"h4\">Purchase Request</Card.Title>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <Row>\r\n                  <Col md={{ span: 4 }}>\r\n                    {expenseTypes.length === 0 && (\r\n                      <p className=\"text-danger\">\r\n                        Budget not available yet.Purchase request cannot be\r\n                        raised at the moment\r\n                      </p>\r\n                    )}{\" \"}\r\n                    <Form onSubmit={handlePurchase}>\r\n                      <Form.Group controlId=\"narration\">\r\n                        <Form.Label>Narration</Form.Label>\r\n                        <Form.Control\r\n                          as=\"textarea\"\r\n                          rows={3}\r\n                          name=\"narration\"\r\n                          value={input.narration}\r\n                          onChange={handleInputChange}\r\n                        />\r\n                      </Form.Group>\r\n                      <Form.Group controlId=\"amount\">\r\n                        <Form.Label>Amount</Form.Label>\r\n                        <Form.Control\r\n                          type=\"number\"\r\n                          placeholder=\"Enter Amount\"\r\n                          name=\"amount\"\r\n                          value={input.amount}\r\n                          onChange={handleInputChange}\r\n                        />\r\n                      </Form.Group>\r\n                      <Form.Group controlId=\"expenseType\">\r\n                        <Form.Label>Expense Type</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          name=\"expenseTypeId\"\r\n                          value={input.expenseTypeId}\r\n                          onChange={handleInputChange}\r\n                        >\r\n                          <option>Choose</option>\r\n                          {expenseTypes.map((e, key) => {\r\n                            return (\r\n                              <option value={e.id} key={key}>\r\n                                {e.name}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                      {/* {inputList.map((x, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Row key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col  md=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"vendorId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={x.vendorId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange(i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Choose Vendor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{expenseTypes.map((e, key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={e.id} key={key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{e.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col  md=\"2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={x.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange(i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Choose Item</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{x.products.map((e, key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={e.name} key={key}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{e.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col  md=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Quantity</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Qty\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"quantity\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={x.quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleInputChange(i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col  md=\"2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label>Amount</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Amount\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={x.amount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col  md=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{inputList.length !== 1 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-fill\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveClick(i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{inputList.length - 1 === i && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-fill ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleAddClick}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAdd More\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})} */}\r\n                      <Button\r\n                        disabled={expenseTypes.length === 0}\r\n                        className=\"btn-fill\"\r\n                        onClick={handleAddClick}\r\n                        variant=\"info\"\r\n                      >\r\n                        Add\r\n                      </Button>\r\n                    </Form>\r\n                  </Col>\r\n                  {inputList.length > 0 && (\r\n                    <Col md=\"8\">\r\n                      <Table striped bordered hover>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Narration</th>\r\n                            <th>Amount</th>\r\n                            <th>Expense Type</th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {inputList.map((list, index) => (\r\n                            <tr key={index}>\r\n                              <td>{list.narration}</td>\r\n                              <td>{list.amount}</td>\r\n                              <td>\r\n                                {\r\n                                  expenseTypes.find(\r\n                                    (e) => e.id == list.expenseTypeId\r\n                                  ).name\r\n                                }\r\n                              </td>\r\n                              <td>\r\n                                <Button\r\n                                  className=\"mr-1\"\r\n                                  variant=\"danger\"\r\n                                  onClick={() => handleRemoveClick(index)}\r\n                                >\r\n                                  Remove\r\n                                </Button>\r\n\r\n                                <Button\r\n                                  variant=\"info\"\r\n                                  onClick={() => handleOnEdit(index)}\r\n                                >\r\n                                  Edit\r\n                                </Button>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </Table>\r\n\r\n                      <Button onClick={handlePurchase}>Make Request</Button>\r\n                    </Col>\r\n                  )}\r\n                </Row>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\nexport default connect(null, mapDispatchToProps)(PurchaseRequest);\r\n","/*!\r\n\r\n=========================================================\r\n* Light Bootstrap Dashboard React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\r\n* Copyright 2020 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React, { Component, useEffect, useState } from \"react\";\r\nimport { useLocation, withRouter, Link, useHistory } from \"react-router-dom\";\r\nimport { Navbar, Container, Nav, Dropdown, Button } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { budgetUsageByDepartment, getBudgetByDepartment } from \"../../budget/api-budget\";\r\nimport auth from \"../../auth/auth-helper\";\r\nimport routes from \"routes.js\";\r\nimport { connect } from 'react-redux';\r\nimport {numberWithCommas} from '../../helpers';\r\n\r\n// function Header() {\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tmarginTop: 100,\r\n\t\twidth: 200,\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(2),\r\n\t},\r\n\tpadding: {\r\n\t\tpadding: theme.spacing(0, 2),\r\n\t},\r\n}));\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\t  budget: state\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t  handleUpdate: (payload) => dispatch({ type: 'UPDATE', payload: payload })\r\n\t}\r\n  };\r\n\r\n\r\nconst Header = ({budget, handleUpdate}) => {\r\n\tconst location = useLocation();\r\n\t// const [budget, setBudget] = useState({amount: 0});\r\n\tconst [budgetUsage, setBudgetUsage] = useState({});\r\n\tconst [error, setError] = useState(\"\");\r\n\tconst classes = useStyles();\r\n\tconst setBudget = () => {\r\n\r\n\t}\r\n\tconst history = useHistory();\r\n\t\r\n\t\tuseEffect(() => {\r\n\t\tconst abortController = new AbortController();\r\n\t\tconst signal = abortController.signal;\r\n\t\t\r\n\t\t// auth.isAuthenticated()&&(\r\n\t\t// getBudgetByDepartment(\r\n\t\t// \t{\r\n\t\t// \t\tdepartmentId: auth.isAuthenticated()\r\n\t\t// \t\t\t? auth.isAuthenticated().user.departmentId\r\n\t\t// \t\t\t: \"cd29f9a5-73e6-4aa8-b8fe-7a0cad9b2142\",\r\n\t\t// \t},\r\n\t\t// \tsignal\r\n\t\t// ).then((data) => { console.log(data);\r\n\t\t// \tif (data.data.errors) {\r\n\t\t// \t\tsetError(data.errors);\r\n\t\t// \t} else {\r\n\t\t// \t\thandleUpdate(data.data[0]);\r\n\t\t// \t}\r\n\t\t// }));\r\n\t\t// }\r\n\r\n\t\treturn function cleanup() {\r\n\t\t\tabortController.abort();\r\n\t\t};\r\n\t}, []);\r\n\t// }\r\n\t\r\n\t\r\n\tconst mobileSidebarToggle = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdocument.documentElement.classList.toggle(\"nav-open\");\r\n\t\tvar node = document.createElement(\"div\");\r\n\t\tnode.id = \"bodyClick\";\r\n\t\tnode.onclick = function () {\r\n\t\t\tthis.parentElement.removeChild(this);\r\n\t\t\tdocument.documentElement.classList.toggle(\"nav-open\");\r\n\t\t};\r\n\t\tdocument.body.appendChild(node);\r\n\t};\r\n\r\n\tconst getBrandText = () => {\r\n\t\tfor (let i = 0; i < routes.length; i++) {\r\n\t\t\tif (location.pathname.indexOf(routes[i].layout + routes[i].path) !== -1) {\r\n\t\t\t\treturn routes[i].name;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"Brand\";\r\n\t};\r\n\treturn (\r\n\t\t<Navbar bg=\"light\" expand=\"lg\">\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center ml-2 ml-lg-0\">\r\n\t\t\t\t\t<Navbar.Brand\r\n\t\t\t\t\t\thref=\"#home\"\r\n\t\t\t\t\t\tonClick={(e) => e.preventDefault()}\r\n\t\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* {getBrandText()} */}\r\n\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" className=\"mr-2\">\r\n\t\t\t\t\t<span className=\"navbar-toggler-bar burger-lines\"></span>\r\n\t\t\t\t\t<span className=\"navbar-toggler-bar burger-lines\"></span>\r\n\t\t\t\t\t<span className=\"navbar-toggler-bar burger-lines\"></span>\r\n\t\t\t\t</Navbar.Toggle>\r\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\r\n\t\t\t\t\t<Nav className=\"nav mr-auto\" navbar></Nav>\r\n\t\t\t\t\t<Nav className=\"ml-auto\" navbar>\r\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\">\r\n\t\t\t\t\t\t\t{!auth.isAuthenticated() && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/register\" className=\"nav-link\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tSign up\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/login\" className=\"nav-link\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{auth.isAuthenticated() && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{/* <ul className=\"navbar-nav ml-auto\"> */}\r\n\t\t\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tauth.isAuthenticated() &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tauth.isAuthenticated().user.role != \"Admin\" && auth.isAuthenticated().user.role != \"CFO\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto=\"/admin/financebudget\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{auth.isAuthenticated().user.department}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t// )\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{/* {\r\n\t\t\t\t\t\t\t\t\t\t\t(auth.isAuthenticated().user.role != \"Admin\" && auth.isAuthenticated().user.role != \"CFO\"  ) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tBudget Balance: { budget && numberWithCommas(budget.amount)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t} */}\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tauth.isAuthenticated() &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t(auth.isAuthenticated().user.role === \"Admin\" || auth.isAuthenticated().user.role === \"CFO\" ) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li className=\"center nav-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tWelcome\t{auth.isAuthenticated().user.role}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t// )\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t{/* {auth.isAuthenticated().user.role !==\"Admin\" &&(\r\n\r\n\t\t\t\t\t\t\t\t\t<Dropdown as={Nav.Item}>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle\r\n\t\t\t\t\t\t\t\t\t\t\taria-expanded={false}\r\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup={true}\r\n\t\t\t\t\t\t\t\t\t\t\tas={Nav.Link}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"navbarDropdownMenuLink\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"no-icon\">Budget Usage</span>\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu aria-labelledby=\"navbarDropdownMenuLink\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"#pablo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => e.preventDefault()}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAvailable Budget {budgetUsage.unUtilizedBudget}\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"#pablo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => e.preventDefault()}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tUsed Budget {budgetUsage.utilizedBudget}\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t} */}\r\n\r\n\t\t\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={\"/admin/login\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tauth.clearJWT(() => history.push(\"/\"));\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSign out\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t</Navbar.Collapse>\r\n\t\t\t</Container>\r\n\t\t</Navbar>\r\n\t);\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","/*!\r\n\r\n=========================================================\r\n* Light Bootstrap Dashboard React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\r\n* Copyright 2020 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React, { Component } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"footer px-0 px-lg-3\">\r\n        <Container fluid>\r\n          <nav>\r\n            <ul className=\"footer-menu\">\r\n              <li>\r\n                <a href=\"#pablo\" onClick={(e) => e.preventDefault()}>\r\n                  Home\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#pablo\" onClick={(e) => e.preventDefault()}>\r\n                  Company\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#pablo\" onClick={(e) => e.preventDefault()}>\r\n                  Portfolio\r\n                </a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#pablo\" onClick={(e) => e.preventDefault()}>\r\n                  Blog\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <p className=\"copyright text-center\">\r\n               {new Date().getFullYear()}{\" \"}\r\n              <a href=\"#\">Cars45</a>\r\n            </p>\r\n          </nav>\r\n        </Container>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState } from \"react\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport auth from \"../auth/auth-helper\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { create } from \"./api-dept\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { Card, Container, Row, Col } from \"react-bootstrap\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tcard: {\r\n\t\tmaxWidth: 800,\r\n\t\t// margin: \"auto\",\r\n\t\tmarginLeft: theme.spacing(20),\r\n\t\tmarginRight: theme.spacing(5),\r\n\t\ttextAlign: \"center\",\r\n\t\tmarginTop: theme.spacing(5),\r\n\t\tpaddingBottom: theme.spacing(2),\r\n\t},\r\n\terror: {\r\n\t\tverticalAlign: \"middle\",\r\n\t},\r\n\ttitle: {\r\n\t\t// marginLeft:theme.spacing(-42),\r\n\t\tmarginLeft: theme.spacing(10),\r\n\t\tcolor: theme.palette.openTitle,\r\n\t\tfontSize: \"1.4em\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginLeft: theme.spacing(10),\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\twidth: 500,\r\n\t},\r\n\tsubmit: {\r\n\t\tmarginLeft: theme.spacing(9),\r\n\t\tmarginBottom: theme.spacing(2),\r\n\t},\r\n\tinput: {\r\n\t\tdisplay: \"none\",\r\n\t},\r\n\tfilename: {\r\n\t\tmarginLeft: \"10px\",\r\n\t},\r\n}));\r\n\r\nexport default function NewDepartment() {\r\n\tconst classes = useStyles();\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tcode: \"\",\r\n\t\thod:\"\",\r\n\t\tredirect: false,\r\n\t\terror: \"\",\r\n\t});\r\n\tconst jwt = auth.isAuthenticated();\r\n\tconst handleChange = (name) => (event) => {\r\n\t\tconst value = name === \"image\" ? event.target.files[0] : event.target.value;\r\n\t\tsetValues({ ...values, [name]: value });\r\n\t};\r\n\tconst clickSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst departmentData = {\r\n\t\t\tname: values.name || undefined,\r\n\t\t\thod: values.hod || undefined,\r\n\t\t};\r\n\r\n\t\tconsole.log(\"name to submit\",values.name);\r\n\t\tconsole.log(\"description\",values.hod)\r\n\r\n\t\tcreate(\r\n\t\t\t{\r\n\t\t\t\tt: jwt.token,\r\n\t\t\t},\r\n\t\t\tdepartmentData\r\n\t\t).then((data) => {\r\n\t\t\tif (data.errors) {\r\n\t\t\t\tsetValues({ ...values, error: data.errors });\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tsetValues({ ...values, error: \"\", redirect: true });\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tif (values.redirect) {\r\n\t\treturn <Redirect to={\"/admin/departments/\"} />;\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t{/* <Card.Title className={classes.title}>Business Unit</Card.Title> */}\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\ttype=\"headline\"\r\n\t\t\t\t\t\t\t\t\tcomponent=\"h2\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tNew Department\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t{values.error && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"alert alert-danger\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t\t\t{values.error}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Unit\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\tvalue={values.name}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"name\")}\r\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\t\t\t\t\tid=\"multiline-flexible\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t// rows=\"2\"\r\n\t\t\t\t\t\t\t\t\tvalue={values.description}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"description\")}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tid=\"multiline-flexible\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Hod\"\r\n\t\t\t\t\t\t\t\t\t// multiline\r\n\t\t\t\t\t\t\t\t\tvalue={values.hod}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"hod\")}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{/* </CardContent> */}\r\n\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ color: \"#1DC7EA\" }}\r\n\t\t\t\t\t\t\t\t\t\t// color=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={clickSubmit}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/admin/departments\" className={classes.submit}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\">Cancel</Button>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport List from \"@material-ui/core/List\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport Person from \"@material-ui/icons/Person\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteDepartment from \"./DeleteDepartment\";\r\nimport { readDepartment } from \"./api-dept.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: theme.mixins.gutters({\r\n\t\tmaxWidth: 800,\r\n\t\tmargin: \"auto\",\r\n\t\tpadding: theme.spacing(3),\r\n\t\tmarginTop: theme.spacing(5),\r\n\t}),\r\n\tcard: {\r\n\t\ttextAlign: \"center\",\r\n\t\tpaddingBottom: theme.spacing(2),\r\n\t},\r\n\ttitle: {\r\n\t\tmargin: theme.spacing(2),\r\n\t\tcolor: theme.palette.protectedTitle,\r\n\t\tfontSize: \"1.2em\",\r\n\t},\r\n\tsubheading: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tcolor: theme.palette.openTitle,\r\n\t},\r\n\tbigAvatar: {\r\n\t\twidth: 100,\r\n\t\theight: 100,\r\n\t\tmargin: \"auto\",\r\n\t},\r\n\tdepartmentTitle: {\r\n\t\tpadding: `${theme.spacing(3)}px ${theme.spacing(2.5)}px ${theme.spacing(\r\n\t\t\t1\r\n\t\t)}px ${theme.spacing(2)}px`,\r\n\t\tcolor: theme.palette.openTitle,\r\n\t\twidth: \"100%\",\r\n\t\tfontSize: \"1.2em\",\r\n\t},\r\n}));\r\n\r\nexport default function Department({ match }) {\r\n\tconst classes = useStyles();\r\n\tconst [department, setDepartment] = useState({});\r\n\tconst [error, setError] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tconst abortController = new AbortController();\r\n\t\tconst signal = abortController.signal;\r\n\r\n\t\treadDepartment(\r\n\t\t\t{\r\n\t\t\t\tid: match.params.departmentId,\r\n\t\t\t},\r\n\t\t\tsignal\r\n\t\t).then((data) => {\r\n\t\t\tif (data.errors) {\r\n\t\t\t\tsetError(data.errors);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tsetDepartment(data);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn function cleanup() {\r\n\t\t\tabortController.abort();\r\n\t\t};\r\n\t}, [match.params.departmentId]);\r\n\r\n\treturn (\r\n\t\t<Paper className={classes.root} elevation={4}>\r\n\t\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t\tDepartment\r\n\t\t\t</Typography>\r\n\t\t\t<br />{\" \"}\r\n\t\t\t{error && (\r\n\t\t\t\t<div className=\"alert alert-danger\" role=\"alert\">\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<List dense>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t\t<Avatar>\r\n\t\t\t\t\t\t\t<Person />\r\n\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={department.name}\r\n\t\t\t\t\t\tsecondary={department.description}\r\n\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t<Link to={\"/admin/editdepartment/\" + department.id}>\r\n\t\t\t\t\t\t\t<IconButton aria-label=\"Edit\" color=\"primary\">\r\n\t\t\t\t\t\t\t\t<Edit style={{ color: \"#1DC7EA\" }} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<DeleteDepartment\r\n\t\t\t\t\t\t\tdepartment={department}\r\n\t\t\t\t\t\t\tdepartmentId={department.id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\"Created On: \" + new Date(department.createdOn).toDateString()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItem>\r\n\t\t\t</List>\r\n\t\t\t<Paper className={classes.auctions} elevation={4}>\r\n\t\t\t\t{/* <Typography type=\"title\" color=\"primary\"> */}\r\n\r\n\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tprimary={\"Department Code: \" + department.code}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItem> */}\r\n\r\n\t\t\t\t{/* </Typography> */}\r\n\t\t\t</Paper>\r\n\t\t</Paper>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport auth from \"../auth/auth-helper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { readDepartment, update } from \"./api-dept.js\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\t// margin: 50,\r\n\t},\r\n\tcard: {\r\n\t\tmaxWidth: 900,\r\n\t\t// margin: \"auto\",\r\n\t\tmarginLeft: theme.spacing(12),\r\n\t\ttextAlign: \"center\",\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tpaddingBottom: theme.spacing(1),\r\n\t},\r\n\ttitle: {\r\n\t\tmarginLeft: theme.spacing(-42),\r\n\t\tcolor: theme.palette.protectedTitle,\r\n\t\tfontSize: \"1.4em\",\r\n\t},\r\n\tsubheading: {\r\n\t\tmarginTop: theme.spacing(2),\r\n\t\tcolor: theme.palette.openTitle,\r\n\t},\r\n\terror: {\r\n\t\tverticalAlign: \"middle\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginLeft: theme.spacing(1),\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\twidth: 500,\r\n\t},\r\n\tsubmit: {\r\n\t\t// margin: \"auto\",\r\n\t\tmarginLeft : theme.spacing(24),\r\n\t\tmarginBottom: theme.spacing(2),\r\n\t},\r\n\tbigAvatar: {\r\n\t\twidth: 60,\r\n\t\theight: 100,\r\n\t\tmargin: \"auto\",\r\n\t},\r\n\tinput: {\r\n\t\tdisplay: \"none\",\r\n\t},\r\n\tfilename: {\r\n\t\tmarginLeft: \"10px\",\r\n\t},\r\n}));\r\n\r\nexport default function EditDepartment({ match }) {\r\n\tconst classes = useStyles();\r\n\tconst [values, setValues] = useState({\r\n\t\tname: \"\",\r\n\t\tdescription: \"\",\r\n\t\tcode: \"\",\r\n\t\thod:\"\",\r\n\t\tredirect: false,\r\n\t\terror: \"\",\r\n\t\tid: \"\",\r\n\t});\r\n\tconst jwt = auth.isAuthenticated();\r\n\tuseEffect(() => {\r\n\t\tconst abortController = new AbortController();\r\n\t\tconst signal = abortController.signal;\r\n\t\t\r\n\r\n\t\treadDepartment(\r\n\t\t\t{\r\n\t\t\t\tid: match.params.departmentId,\r\n\t\t\t},\r\n\t\t\tsignal\r\n\t\t).then((data) => {\r\n\t\t\tif (data.error) {\r\n\t\t\t\tsetValues({ ...values, error: data.error });\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({\r\n\t\t\t\t\t...values,\r\n\t\t\t\t\tid: data.id,\r\n\t\t\t\t\tname: data.name,\r\n\t\t\t\t\thod:data.hod\r\n\t\t\t\t\t// description: data.description,\r\n\t\t\t\t\t// code: data.code,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn function cleanup() {\r\n\t\t\tabortController.abort();\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst clickSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst departmentData = {\r\n\t\t\tname: values.name || undefined,\r\n\t\t\t// description: values.description || undefined,\r\n\t\t\thod: values.hod || undefined,\r\n\t\t};\r\n\r\n\t\tconsole.log(\"units name\",values.name);\r\n\t\tconsole.log(\"hod\",values.hod);\r\n\t\tconsole.log(\"departmentData\", departmentData);\r\n\r\n\t\tupdate(\r\n\t\t\t{\r\n\t\t\t\tid: match.params.departmentId,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tt: jwt.token,\r\n\t\t\t},\r\n\t\t\tdepartmentData\r\n\t\t).then((data) => {\r\n\t\t\tif (data.errors) {\r\n\t\t\t\tsetValues({ ...values, error: data.errors });\r\n\t\t\t} else {\r\n\t\t\t\tsetValues({ ...values, redirect: true });\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst handleChange = (name) => (event) => {\r\n\t\tconst value = name === \"image\" ? event.target.files[0] : event.target.value;\r\n\t\tsetValues({ ...values, [name]: value });\r\n\t};\r\n\tif (values.redirect) {\r\n\t\treturn <Redirect to={\"/admin/departments/\"} />;\r\n\t}\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography type=\"headline\" component=\"h2\" className={classes.title}>\r\n\t\t\t\t\t\tEdit Department\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<br />{\" \"}\r\n\t\t\t\t\t{values.error && (\r\n\t\t\t\t\t\t<div className=\"alert alert-danger\" role=\"alert\">\r\n\t\t\t\t\t\t\t{values.error}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\tvalue={values.name}\r\n\t\t\t\t\t\tonChange={handleChange(\"name\")}\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\t\tid=\"multiline-flexible\"\r\n\t\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trows=\"1\"\r\n\t\t\t\t\t\tvalue={values.description}\r\n\t\t\t\t\t\tonChange={handleChange(\"description\")}\r\n\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"multiline-flexible\"\r\n\t\t\t\t\t\tlabel=\"HOD\"\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trows=\"1\"\r\n\t\t\t\t\t\tvalue={values.hod}\r\n\t\t\t\t\t\tonChange={handleChange(\"hod\")}\r\n\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t<CardActions>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{ color: \"#1DC7EA\" }}\r\n\t\t\t\t\t\t// color=\"primary\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tonClick={clickSubmit}\r\n\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUpdate Department\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Card, Container, Row, Col, Button, Table, ButtonGroup, Modal, Form } from \"react-bootstrap\";\r\nimport CsvImport from 'components/CsvImport';\r\nimport axios from '../axios';\r\nimport { toast } from 'react-toastify';\r\nimport Pagination from \"../components/Pagination/Pagination\";\r\nimport Search from \"../components/Search/Search\";\r\nimport TableHeader from \"../components/TableHeader/TableHeader\";\r\nimport auth from \"../auth/auth-helper\";\r\nimport { create, readDepartment, update, remove, list } from \"./api-dept\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport { CollectionsOutlined } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t},\r\n\theading: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tflexBasis: \"33.33%\",\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tsecondaryHeading: {\r\n\t\tfontSize: theme.typography.pxToRem(15),\r\n\t\tcolor: theme.palette.text.secondary,\r\n\t},\r\n}));\r\n\r\nexport default function ControlledAccordions() {\r\n\tconst [show, setShow] = useState(false);\r\n\tconst classes = useStyles();\r\n\tconst [departments, setDepartments] = useState([]);\r\n\tconst [totalItems, setTotaltems] = useState(0);\r\n\tconst [currentPage, setCurrentPage] = useState(1);\r\n\tconst ITEMS_PER_PAGE = 10;\r\n\tconst [selectedFile, setSelectedFile] = useState(null);\r\n\tconst [needsReload, setNeedsReload] = useState(true);\r\n\tconst [data, setData] = useState({\r\n\t\tname: \"\",\r\n\t\thod: \"\"\r\n\t});\r\n\tconst [type, setType] = useState(\"\")\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tconst handleOnChange = ({target}) => {\r\n        setData({...data, [target.name]: target.value});\r\n    };\r\n\t\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetShow(false);\r\n\t\tsetData({\r\n\t\t\tname: \"\",\r\n\t\t\thod: \"\"\r\n\t\t});\r\n\t}\r\n\tconst jwt = auth.isAuthenticated();\r\n\r\n\tconst handleShow = (type, uuid = null) => {\r\n\t\tsetType(type);\r\n\t\tif(type == 'edit') {\r\n\t\t\ttrackPromise(\r\n\t\t\t\treadDepartment(\r\n\t\t\t\t\t{ id: uuid }\r\n\t\t\t\t).then(res => { \r\n\t\t\t\t\tsetData({\r\n\t\t\t\t\t\tname: res.data.name,\r\n\t\t\t\t\t\thod: res.data.hod,\r\n\t\t\t\t\t\tid: res.data.id\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetShow(true);\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err.response)\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetShow(true);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleShowDialog = (data) => {\r\n\t\tsetOpen(true)\r\n\t\tsetData({\r\n\t\t\tname: data.name,\r\n\t\t\tid: data.id\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleDialogClose = () => {\r\n\t\tsetOpen(false);\r\n\t\tsetData({\r\n\t\t\tname: \"\",\r\n\t\t\thod: \"\"\r\n\t\t});\r\n\t}\r\n\r\n\tconst deleteDepartment = () => {\r\n\t\ttrackPromise(\r\n\t\t\tremove(\r\n\t\t\t\t{\r\n\t\t\t\t\tid: data.id,\r\n\t\t\t\t}\r\n\t\t\t).then(res => {\r\n\t\t\t\thandleDialogClose();\r\n\t\t\t\ttoast.success('Deleted successfully!');\r\n\t\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err.response);\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst departmentData = {\r\n\t\t\tname: data.name,\r\n\t\t\thod: data.hod,\r\n\t\t};\r\n\r\n\t\tif (type == 'add'){\r\n\t\t\ttrackPromise(\r\n\t\t\t\tcreate(\r\n\t\t\t\t\tdepartmentData\r\n\t\t\t\t).then(res => {\r\n\t\t\t\t\ttoast.success(res.data.message);\r\n\t\t\t\t\thandleClose();\r\n\t\t\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tsetValues({ ...values, error: err.response.data.errors });\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\ttrackPromise(\r\n\t\t\t\tupdate(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: data.id,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdepartmentData\r\n\t\t\t\t).then(res => {\r\n\t\t\t\t\ttoast.success('Updated successfully!');\r\n\t\t\t\t\thandleClose();\r\n\t\t\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err.response)\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\ttrackPromise(\r\n\t\t\tlist().then(res => {\r\n\t\t\t\tsetDepartments(res.data.data);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err.response)\r\n\t\t\t})\r\n\t\t);\r\n\t}, [needsReload]);\r\n\r\n\tconst onFileUpload = (close) => {\r\n\t\tlet data = new FormData();\r\n\t\tdata.append('files', selectedFile);\r\n\t\ttrackPromise(\r\n\t\t\taxios.post('/businessUnitsUpload', data).then(res => {\r\n\t\t\t\ttoast.success(res.data.message);\r\n\t\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\t\tsetSelectedFile(null);\r\n\t\t\t\tclose();\r\n\t\t\t}).catch(err => {\r\n\t\t\t\ttoast.error(err.response.data.errors ? err.response.data.errors : 'An error occurred');\r\n\t\t\t\tsetNeedsReload(!needsReload);\r\n\t\t\t\tsetSelectedFile(null);\r\n\t\t\t\tclose();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tconst headers = [\r\n\t\t{ name: \"No#\", field: \"id\" },\r\n\t\t{ name: \"UNITS\", field: \"unit\", sortable: true },\r\n\t\t{ name: \"HOD/DESIGNATE\", field: \"hod\", sortable: true },\r\n\t\t{ name: \"Actions\", field: \"\", sortable: false },\r\n\t];\r\n\r\n\tconst departmentsData = useMemo(() => {\r\n\t\tlet computedDepartments = departments;\r\n\t\tsetTotaltems(computedDepartments.length);\r\n\t\treturn computedDepartments.slice(\r\n\t\t\t(currentPage - 1) * ITEMS_PER_PAGE,\r\n\t\t\t(currentPage - 1) * ITEMS_PER_PAGE + ITEMS_PER_PAGE\r\n\t\t);\r\n\t}, [departments,currentPage]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Header className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t\t\t<Card.Title as=\"h4\">Departments</Card.Title>\r\n\t\t\t\t\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t\t\t\t\t<Button size=\"sm\" className=\"mr-2\" onClick={() => handleShow(\"add\")}>Add</Button>\r\n\t\t\t\t\t\t\t\t\t{ <CsvImport setFile={setSelectedFile} onUpload={onFileUpload} /> }\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<div className=\"row w-100\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col mb-3 col-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\t\t\t\ttotal={totalItems}\r\n\t\t\t\t\t\t\t\t\t\t\t\titemsPerPage={ITEMS_PER_PAGE}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonPageChange={(page) => setCurrentPage(page)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 d-flex flex-row-reverse\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <Search\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSearch(value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentPage(1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search department\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableHeader\r\n\t\t\t\t\t\t\t\t\t\t\t\theaders={headers}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSorting={(field, order) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSorting({ field, order })\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{departmentsData.map((department, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <th scope=\"row\">{department.id}</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{((currentPage - 1) * ITEMS_PER_PAGE) + i + 1}</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{department.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{department.hod}</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ButtonGroup aria-label=\"Basic example\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"info\" onClick={() => {handleShow('edit', department.id)}}>Edit</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"danger\" onClick={() => {handleShowDialog(department)}}>Delete</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title>{type == 'add' ? 'Add' : 'Edit'} Department</Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\r\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter department name\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"hod\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>HOD</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter head of department\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.hod}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"hod\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t\t<Dialog open={open} onClose={handleDialogClose}>\r\n\t\t\t\t\t\t\t<DialogTitle>{\"Delete \" + data.name + \"?\" }</DialogTitle>\r\n\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t\t\t\tConfirm to delete the department {data.name}.\r\n\t\t\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button onClick={handleDialogClose} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={deleteDepartment}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tautoFocus=\"autoFocus\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</>\r\n\t\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/sidebar-3.9992d0ce.jpg\";","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"../../../axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport ItemsTable from \"./ItemsTable\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n\tCard,\r\n\tContainer,\r\n\tRow,\r\n\tCol,\r\n\tTable,\r\n\tButton,\r\n\tModal,\r\n\tForm,\r\n\tAccordion,\r\n} from \"react-bootstrap\";\r\nimport QuotationModal from \"./QuotationRequests\";\r\nimport auth from \"../../../auth/auth-helper\";\r\nimport { numberWithCommas } from \"../../../helpers\";\r\n\r\nfunction SinglePurchaseRequest({ match, actions }) {\r\n\tconst [request, setRequest] = useState({});\r\n\tconst [showModal, setShowModal] = useState({\r\n\t\tstatus: false,\r\n\t\ttype: null,\r\n\t});\r\n\tconst [showQuotModal, setShowQuotModal] = useState(false);\r\n\tconst [reviewData, setReviewData] = useState({\r\n\t\tstatus: 1,\r\n\t\tcomment: \"\",\r\n\t});\r\n\tconst [shouldReload, setShouldReload] = useState(false);\r\n\tconst history = useHistory();\r\n\tconst handleOnChange = ({ target }) => {\r\n\t\tsetReviewData({ ...reviewData, [target.name]: target.value });\r\n\t};\r\n\r\n\tconst isActionAllowed = (action) => {\r\n\t\treturn actions.includes(action);\r\n\t};\r\n\r\n\tconst cancelRequest = () => {\r\n\r\n\t}\r\n\r\n\tconst handleSubmitReview = () => {\r\n\t\tlet data = {\r\n\t\t\tid: match.params.uuid,\r\n\t\t\tuserId: auth.isAuthenticated().user.id\r\n\t\t};\r\n\r\n\t\tlet url;\r\n\r\n\t\tconst userName = auth.isAuthenticated().user.email.split(\"@\")[0];\r\n\t\tswitch (showModal.type) {\r\n\t\t\tcase \"Review\":\r\n\t\t\t\turl = \"/v1/request/approveRequest\";\r\n\t\t\t\tdata = {\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\treviewedBy: userName,\r\n\t\t\t\t\treviewComment: reviewData.comment,\r\n\t\t\t\t\treviewStatus: reviewData.status,\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\turl = \"/v1/request/approveRequest\";\r\n\t\t\t\tdata = {\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tapprovedBy: userName,\r\n\t\t\t\t\tapprovalComment: showModal.type == 'Cancel' ? 'Cancelled' : reviewData.comment,\r\n\t\t\t\t\tapprovalStatus: reviewData.status\r\n\t\t\t\t};\r\n\t\t}\r\n\r\n\t\taxios.patch(url, data).then((res) => {\r\n\t\t\ttoast.success(res.data.message);\r\n\t\t\thandleClose();\r\n\t\t\thistory.push('/admin/purchase/requests');\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmitQuotation = () => {\r\n\t\tconst dat = {\r\n\t\t\trequestedBy: auth.isAuthenticated().user.email.split(\"@\")[0],\r\n\t\t\trequestId: match.params.uuid,\r\n\t\t\tcaseId: request.caseId,\r\n\t\t\tamount: request.totalItemsAmount.toString(),\r\n\t\t};\r\n\r\n\t\taxios.post(\"/v1/request/requestForQuotation\", dat).then((res) => {\r\n\t\t\ttoast.success(res.data.message);\r\n\t\t\tsetShowQuotModal(false);\r\n\t\t\tsetShouldReload(!shouldReload);\r\n\t\t});\r\n\t};\r\n\r\n\tconst fetchRequest = () => {\r\n\t\tconst uuid = match.params.uuid;\r\n\t\taxios\r\n\t\t\t.get(`/v1/request/${uuid}`)\r\n\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(\"Requests\", res);\r\n\t\t\t\tlet data = res.data.data.data;\r\n\t\t\t\tif (data.reviewStatus == 1) {\r\n\t\t\t\t\tdata.reviewStatusReadable = \"Approved\";\r\n\t\t\t\t}\r\n\t\t\t\tif (data.approvalStatus == 1) data.approvalStatusReadable = \"Approved\";\r\n\r\n\t\t\t\tif (data.reviewStatus == 2) {\r\n\t\t\t\t\tdata.reviewStatusReadable = \"Declined\";\r\n\t\t\t\t}\r\n\t\t\t\tif (data.approvalStatus == 2) data.approvalStatusReadable = \"Declined\";\r\n\t\t\t\t\r\n\t\t\t\tdata.hasAlreadyApproved = data.approvals && data.approvals.find(a => a.userId == auth.isAuthenticated().user.id)\r\n\t\t\t\t  \r\n\t\t\t\tlet items = [];\r\n\t\t\t\tdata.orders.forEach((order) => {\r\n\t\t\t\t\tlet orde = order.items.map((item) => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\tvendorId: order.vendorId,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t\titems = items.concat(orde);\r\n\t\t\t\t});\r\n\t\t\t\tdata.items = items;\r\n\t\t\t\t// data.totalItemsAmount = data.items.reduce((a, item) => a + parseFloat(item.amount), 0);\r\n\t\t\t\tconsole.log(\"dara from request single after every every\", data);\r\n\t\t\t\tsetRequest(data);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleShow = (type) => {\r\n\t\tsetShowModal({\r\n\t\t\tstatus: true,\r\n\t\t\ttype,\r\n\t\t});\r\n\t\tif (type == \"Decline\") setReviewData({ ...reviewData, status: 2 });\r\n\t\telse if (type == 'Cancel') setReviewData({ ...reviewData, status: 3 })\r\n\t\telse setReviewData({ ...reviewData, status: 1 });\r\n\t};\r\n\r\n\tconst handleShowQuotModal = () => {\r\n\t\tsetShowQuotModal(true);\r\n\t};\r\n\r\n\tconst handleCloseQuotModal = () => {\r\n\t\tsetShowQuotModal(false);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetShowModal({\r\n\t\t\tstatus: false,\r\n\t\t\ttype: null,\r\n\t\t});\r\n\t\tsetReviewData({\r\n\t\t\tstatus: 1,\r\n\t\t\tcomment: \"\",\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequest();\r\n\t}, [shouldReload]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col md=\"12\">\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t<Card.Title className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t\t\t\t<h4>Purchase Request: {request.caseId}</h4>\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t{/* {!request.reviewDate && isActionAllowed(\"review\") && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" onClick={() => handleShow(\"Review\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tReview\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t\t\t\t\t\t{isActionAllowed(\"approve\") &&\r\n\t\t\t\t\t\t\t\t\t\t\trequest.approvalStatus == null &&\r\n\t\t\t\t\t\t\t\t\t\t\t!request.hasAlreadyApproved && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShow(\"Approve\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tApprove\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShow(\"Decline\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDecline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShow(\"Cancel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title as=\"h6\">Case Id:</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>{request.caseId}</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title as=\"h6\">Date:</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(request.createdAt).toLocaleDateString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t{/* <Col md=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={Card.Header}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teventKey=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-between\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.reviewDate\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `Review Status: ${request.reviewStatusReadable}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Awaiting Review\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isActionAllowed(\"review\") && !request.reviewDate && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShow(\"Review\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tReview Now\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.reviewDate && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Reviewed By: {request.reviewedBy}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDate:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequest.reviewDate\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Comment: {request.reviewComment}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t\t\t\t</Col> */}\r\n\r\n\t\t\t\t\t\t\t\t\t{/* {request.reviewStatus == 1 && ( */}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Col md=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Card.Header}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teventKey=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-between\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.approvalStatus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `Approval Status: ${request.approvalStatusReadable}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Awaiting Approval\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isActionAllowed(\"approve\") &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!request.approvalStatus && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShow(\"Approve\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tApprove Now\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShow(\"Decline\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDecline Now\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleShow(\"Cancel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel Now\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{request.approvalStatus && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Approved By: {request.approvedBy}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDate:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequest.approvalDate\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Comment: {request.approvalComment}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t\t\t\t\t</Col> */}\r\n\t\t\t\t\t\t\t\t\t{/* )} */}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>Items</h5>\r\n\t\t\t\t\t\t\t\t\t\t<ItemsTable items={request.items} />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t{/* {\r\n\t\t\t\t\t\t\t\t\t\t<Col md=\"7\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>Quotations</h5>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Table responsive>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Requested By</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Created At</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{request.quotations &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequest.quotations.map((quot, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={quot.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{i + 1}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{numberWithCommas(quot.amount)}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{quot.requestedBy}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquot.createdAt\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t} */}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t\t<Modal show={showModal.status} onHide={handleClose}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{showModal.type} Request</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tshowModal.type == \"Cancel\" && <p>Are you sure?</p>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tshowModal.type != \"Cancel\" && <Form>\r\n\t\t\t\t\t\t<Form.Group controlId=\"reviewStatus\">\r\n\t\t\t\t\t\t\t<Form.Label hidden={showModal.type !== \"Review\"}>\r\n\t\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tname=\"status\"\r\n\t\t\t\t\t\t\t\tvalue={reviewData.status}\r\n\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t\thidden={showModal.type !== \"Review\"}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"1\">Approve</option>\r\n\t\t\t\t\t\t\t\t<option value=\"2\">Decline</option>\r\n\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId=\"reviewComment\">\r\n\t\t\t\t\t\t\t<Form.Label>Comment</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\tname=\"comment\"\r\n\t\t\t\t\t\t\t\tvalue={reviewData.comment}\r\n\t\t\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t}\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={handleSubmitReview}>\r\n\t\t\t\t\t\t{ showModal.type == 'Cancel' ? 'Cancel' : 'Submit' }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t\t<QuotationModal\r\n\t\t\t\tshow={showQuotModal}\r\n\t\t\t\tonHide={handleCloseQuotModal}\r\n\t\t\t\tsubmit={handleSubmitQuotation}\r\n\t\t\t\trequest={request}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default SinglePurchaseRequest;\r\n","/*!\r\n\r\n=========================================================\r\n* Light Bootstrap Dashboard React - v2.0.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react\r\n* Copyright 2020 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React, { useState, useEffect, useRef, Component } from \"react\";\r\nimport { useLocation, Route, Switch } from \"react-router-dom\";\r\n\r\nimport AdminNavbar from \"components/Navbars/AdminNavbar\";\r\nimport Footer from \"components/Footer/Footer\";\r\nimport Sidebar from \"components/Sidebar/Sidebar\";\r\n// import FixedPlugin from \"components/FixedPlugin/FixedPlugin.js\";\r\nimport Home2 from \"./Home2\";\r\nimport routes from \"routes.js\";\r\nimport TopUpBudget from \"../budget/topUpBudget\";\r\nimport CreateBudget from \"../budget/createBudget\";\r\nimport BudgetBulkUpload from \"../budget/budgetBulkUpload\";\r\nimport NewDepartment from \"../department/NewDepartment\";\r\nimport Department from \"../department/Department\";\r\nimport EditDepartment from \"../department/EditDepartment\";\r\nimport Departments from \"../department/Departments\";\r\nimport sidebarImage from \"assets/img/sidebar-3.jpg\";\r\nimport PurchaseRequests from \"views/PurchaseRequests/PurchaseRequests\";\r\nimport SinglePurchaseRequest from \"views/PurchaseRequests/SinglePurchaseRequest/SinglePurchaseRequest\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport QuotationRequest from \"views/PurchaseRequests/SinglePurchaseRequest/QuotationRequests\";\r\nimport PrivateRoute from \"../components/PrivateRoute\";\r\nimport PurchaseRequest from \"views/PurchaseRequest.js\";\r\n// import Budget from \"views/Budget\";\r\nimport Budget from \"../budget/Budget\";\r\nimport User from \"../user/EditUser\";\r\nimport ViewUser from \"../user/ViewUser\";\r\nimport auth from \"../auth/auth-helper\";\r\nimport Vendors from \"views/Vendors/Vendors\";\r\nimport AddProduct from \"views/Products/AddProduct\";\r\nimport setAuthToken from \"../setAuthToken\";\r\nimport BudgetBalance from \"components/Sidebar/BudgetBalance\";\r\nimport PurchaseRequestLogs from \"views/PurchaseRequests/Logs/PurchaseRequestLogs\";\r\nimport SingleLog from \"views/PurchaseRequests/Logs/SingleLog\";\r\nimport ApproveRequest from \"views/PurchaseRequests/PurchaseRequestList/ApproveRequest\";\r\nimport ListQuotation from \"../views/vendor/ListQuotation\";\r\n\r\nimport { getBudgetByDepartment, getAllBudget } from \"../budget/api-budget\";\r\n\r\nif (sessionStorage.getItem(\"jwt\"))\r\n  setAuthToken(JSON.parse(sessionStorage.getItem(\"jwt\")).token);\r\n\r\nfunction Admin() {\r\n  const [image, setImage] = useState(sidebarImage);\r\n  const [color, setColor] = useState(\"black\");\r\n  const [hasImage, setHasImage] = useState(true);\r\n  const [budgets, setBudgets] = useState([]);\r\n  const [deptId, setDeptId] = useState(\"\");\r\n  const location = useLocation();\r\n  const mainPanel = React.useRef(null);\r\n  const getRoutes = (routes) => {\r\n    return routes.map((prop, key) => {\r\n      if (prop.layout === \"/admin\") {\r\n        return (\r\n          <Route\r\n            path={prop.layout + prop.path}\r\n            render={(props) => <prop.component {...props} />}\r\n            key={key}\r\n          />\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n    document.scrollingElement.scrollTop = 0;\r\n    mainPanel.current.scrollTop = 0;\r\n    if (\r\n      window.innerWidth < 993 &&\r\n      document.documentElement.className.indexOf(\"nav-open\") !== -1\r\n    ) {\r\n      document.documentElement.classList.toggle(\"nav-open\");\r\n      var element = document.getElementById(\"bodyClick\");\r\n      element.parentNode.removeChild(element);\r\n    }\r\n  }, [location]);\r\n\r\n  let userDepartment = {\r\n    departmentId: auth.isAuthenticated().user.departmentId,\r\n  };\r\n\r\n  const fetchBudgets = () => {\r\n    if (auth.isAuthenticated().user.role === \"Procurement Team\") {\r\n      getAllBudget().then((res) => {\r\n        console.log(\"budgets\", res.data);\r\n        if (res.data) {\r\n          setBudgets(res.data);\r\n        } else {\r\n          setBudgets([]);\r\n        }\r\n      });\r\n    } else {\r\n      getBudgetByDepartment(userDepartment).then((res) => {\r\n        console.log(\"budgets\", res.data);\r\n        if (res.data.data) {\r\n          setBudgets(res.data.data);\r\n        } else {\r\n          setBudgets([]);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBudgets();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"wrapper\">\r\n        <ToastContainer />\r\n        {auth.isAuthenticated() && (\r\n          // (<Sidebar color={color} image={hasImage ? image : \"\"} routes={routes} />)}\r\n          <Sidebar\r\n            color={color}\r\n            image={hasImage ? image : \"\"}\r\n            routes={routes}\r\n          />\r\n        )}\r\n        <div className=\"main-panel\" ref={mainPanel}>\r\n          {auth.isAuthenticated() && <AdminNavbar />}\r\n          <div className=\"content\">\r\n            <Switch>\r\n              {\r\n                <>\r\n                  {getRoutes(routes)}{\" \"}\r\n                  <Route exact path=\"/admin/home\" component={Home2} />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/bud/additionalBudget/:budgetId\"\r\n                    component={TopUpBudget}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/createbudget\"\r\n                    component={CreateBudget}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/bulkupload/budget\"\r\n                    component={BudgetBulkUpload}\r\n                  />\r\n                  <Route\r\n                    // exact\r\n                    path=\"/admin/createdepartment\"\r\n                    component={NewDepartment}\r\n                  />\r\n                  {/* <Route\r\n\t\t\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/admin/departments\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent={Departments}\r\n\t\t\t\t\t\t\t\t\t/> */}\r\n                  {/* <PrivateRoute\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/budget/additionalBudget/:budgetId\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent={AdditionalBudget}\r\n\t\t\t\t\t\t\t\t\t/> */}\r\n                  <Route\r\n                    // exact\r\n                    path=\"/admin/department/:departmentId\"\r\n                    component={Department}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/editdepartment/:departmentId\"\r\n                    component={EditDepartment}\r\n                  />\r\n                  <PrivateRoute\r\n                    exact\r\n                    path=\"/admin/departments\"\r\n                    component={Departments}\r\n                  />\r\n                  <PrivateRoute\r\n                    exact\r\n                    path=\"/admin/purchase\"\r\n                    component={PurchaseRequest}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/purchase/request/logs\"\r\n                    component={PurchaseRequestLogs}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/purchase/request/logs/:uuid\"\r\n                    render={(props) => (\r\n                      <SingleLog\r\n                        // deptId= {}\r\n                        setBudgets={(totalAmount, expId) =>\r\n                          setBudgets((prev) => {\r\n                            let newState = prev.map((i) => {\r\n                              let newObj = i;\r\n                              if (i.expenseTypeId == expId) {\r\n                                newObj.amount = i.amount - totalAmount;\r\n                              }\r\n                              return newObj;\r\n                            });\r\n                            return newState;\r\n                          })\r\n                        }\r\n                        {...props}\r\n                      />\r\n                    )}\r\n                    // component={SingleLog}\r\n                  />\r\n                  <PrivateRoute\r\n                    exact\r\n                    path=\"/admin/purchase/requests\"\r\n                    component={PurchaseRequests}\r\n                  />\r\n                  <PrivateRoute exact path=\"/admin/budget\" component={Budget} />\r\n                  <PrivateRoute\r\n                    exact\r\n                    path=\"/admin/quotations-list\"\r\n                    component={ListQuotation}\r\n                  />\r\n                  <PrivateRoute\r\n                    exact\r\n                    path=\"/admin/purchase/requests/:uuid\"\r\n                    component={SinglePurchaseRequest}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/purchase/requests/:uuid/quotation\"\r\n                    component={QuotationRequest}\r\n                  />\r\n                  <Route\r\n                    exact={true}\r\n                    path=\"/admin/edit/user/:userId\"\r\n                    component={User}\r\n                  />\r\n                  <Route\r\n                    exact={true}\r\n                    path=\"/admin/users/:userId\"\r\n                    component={ViewUser}\r\n                  />\r\n                  <Route exact path=\"/admin/vendors\" component={Vendors} />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/products/create\"\r\n                    component={AddProduct}\r\n                  />\r\n                  <Route\r\n                    exact\r\n                    path=\"/admin/requests/approve\"\r\n                    component={ApproveRequest}\r\n                  />\r\n                </>\r\n                // {<Route exact path=\"/home\" component={Home2} />}\r\n              }\r\n            </Switch>\r\n          </div>\r\n\r\n          {auth.isAuthenticated() &&\r\n            auth.isAuthenticated().user.role != \"Admin\" && (\r\n              <BudgetBalance budgets={budgets} />\r\n            )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import { herouke } from \"../../url\";\r\nconst signin = async (vportaluser) => {\r\n  console.log(vportaluser);\r\n  try {\r\n    let response = await fetch(herouke + \"/api/vportal/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(vportaluser),\r\n    });\r\n    let rep = await response;\r\n    console.log(rep, \"rep\");\r\n    return rep.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst signout = async () => {\r\n  try {\r\n    let response = await fetch(\"http://localhost:3050/api/auth/signout/\", {\r\n      method: \"GET\",\r\n    });\r\n    return await response.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport { signin, signout };\r\n","import React, { Component } from \"react\";\r\nimport { usePromiseTracker } from \"react-promise-tracker\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst LoadingIndicator = (props) => {\r\n  const { promiseInProgress } = usePromiseTracker();\r\n  return (\r\n    promiseInProgress && (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          position: \"absolute\",\r\n          height: \"100vh\",\r\n          top: 0,\r\n          background: \"rgba(0,0,0, .5)\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          zIndex: 1301,\r\n        }}\r\n      >\r\n        <Loader type=\"Circles\" color=\"#23b9ad\" height=\"100\" width=\"100\" />\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default LoadingIndicator;\r\n","import auth from \"auth/auth-helper\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Container, Row, Col } from \"react-bootstrap\";\r\nimport axios from \"../../axios\";\r\nimport { signin } from \"./api-vendorAuth.js\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory, Redirect } from \"react-router-dom\";\r\nimport LoadingIndicator from \"../../components/Loading\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nfunction VendorLogin() {\r\n  let history = useHistory();\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loggedIn: false,\r\n  });\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    const user = {\r\n      email: values.email,\r\n      password: values.password,\r\n    };\r\n\r\n    // axios\r\n    //   .post(\"/vportal/login\", user)\r\n    //   .then((res) => {\r\n    //     console.log(\"inside vendorlogin\")\r\n    //     // console.log(\"Errors\",res)\r\n    //     // if (!res.data.status) {\r\n    // \t\t// \tsetValues({ ...values, error: res.data.error });\r\n    // \t\t// } else{\r\n    //     auth.authenticateVendor(res.data);\r\n    //     console.log(\"i am here\", res.data);\r\n    //     //history.push(\"/vendor\");\r\n\r\n    //     // }\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     console.log(err.response);\r\n    //   });\r\n\r\n    try {\r\n      trackPromise(\r\n        signin(user).then((data) => {\r\n          console.log(\"Data...\", data);\r\n          if (data.status) {\r\n            toast.info(`Welcome ${data.user.email.split(\"@\")[0]}!`);\r\n            auth.authenticateVendor(data);\r\n            setLoggedIn(true);\r\n          } else {\r\n            setValues({ ...values, error: data.message });\r\n          }\r\n        })\r\n      );\r\n    } catch (err) {\r\n      setValues({ ...values, error: err.message });\r\n    }\r\n  };\r\n\r\n  if (loggedIn) return <Redirect to=\"/vendor\" />;\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col md={{ span: 4, offset: 4 }}>\r\n          <div className=\"select-inner d-flex flex-column align-items-center mt-5\">\r\n            <img\r\n              src={require(\"assets/img/logo.png\").default}\r\n              style={{ width: \"210px\", height: \"50px\" }}\r\n              alt=\"...\"\r\n            />\r\n            <form onSubmit={clickSubmit} className=\"w-100 mt-5\">\r\n              <br />{\" \"}\r\n              {values.error && (\r\n                <div className=\"alert2 text-danger mb-2\" role=\"alert\">\r\n                  Invalid Email/Password\r\n                </div>\r\n              )}\r\n              <div className=\"form-group\">\r\n                <label>Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"email\"\r\n                  value={values.email}\r\n                  onChange={handleChange(\"email\")}\r\n                  // onChange={(e) => (this.email = e.target.value)}\r\n                />\r\n              </div>\r\n              <br />\r\n              <div className=\"form-group\">\r\n                <label>Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Password\"\r\n                  value={values.password}\r\n                  onChange={handleChange(\"password\")}\r\n                  // onChange={(e) => (this.password = e.target.value)}\r\n                />\r\n              </div>\r\n              <br />\r\n              {/* <button className=\"btn btn-primary btn-block\">Login</button> */}\r\n              <Button className=\"btn-fill\" type=\"submit\" variant=\"info\">\r\n                Login\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <LoadingIndicator />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default VendorLogin;\r\n","import ReactExport from \"react-export-excel\";\r\n\r\nconst ExcelFile = ReactExport.ExcelFile;\r\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\r\n\r\nconst ExcelComponet = (props) => {\r\n  return (\r\n    <ExcelFile\r\n      filename={props.name}\r\n      element={<button className=\"btn btn-primary\">Export to Excel</button>}\r\n    >\r\n      <ExcelSheet data={props.execelData} name=\"Quotation\">\r\n        <ExcelColumn label=\"Approval Comment\" value=\"approvalComment\" />\r\n        <ExcelColumn label=\"Approval Date\" value=\"approvalDate\" />\r\n        <ExcelColumn label=\"Approved By\" value=\"approvedBy\" />\r\n        <ExcelColumn label=\"caseId\" value=\"caseId\" />\r\n        <ExcelColumn label=\"Comment\" value=\"comment\" />\r\n        <ExcelColumn label=\"Created At\" value=\"createdAt\" />\r\n        <ExcelColumn label=\"Created By\" value=\"createdBy\" />\r\n        <ExcelColumn label=\"created On\" value=\"createdOn\" />\r\n        <ExcelColumn label=\"Total Amount\" value=\"totalAmount\" />\r\n        <ExcelColumn label=\"Status\" value=\"status\" />\r\n        <ExcelColumn label=\"orderId\" value=\"orderId\" />\r\n        <ExcelColumn label=\"Paymnent Status\" value=\"paymnentStatus\" />\r\n        <ExcelColumn\r\n          label=\"Process Status Paymnent\"\r\n          value=\"processStatusPaymnent\"\r\n        />\r\n        <ExcelColumn\r\n          label=\"Process Status Receipt\"\r\n          value=\"processStatusReceipt\"\r\n        />\r\n      </ExcelSheet>\r\n    </ExcelFile>\r\n  );\r\n};\r\n\r\nexport default ExcelComponet;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { list, getQuotationByVendor } from \"./api-vendorQuotation\";\r\nimport TableHeader from \"../../components/TableHeader/TableHeader\";\r\nimport CsvImport from \"components/CsvImport\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport { numberWithCommas } from \"../../helpers\";\r\nimport Loading from \"../../components/Loading\";\r\nimport ReactExport from \"react-export-excel\";\r\nimport ExcelComponet from \"../../components/ExecelComponent\";\r\n\r\nimport {\r\n  Card,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n  ButtonGroup,\r\n  Modal,\r\n  Form,\r\n  DropdownButton,\r\n  Dropdown,\r\n} from \"react-bootstrap\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nconst STATUS = {\r\n  APPROVED: \"aprroved\",\r\n  REJECTED: \"Rejected\",\r\n  ALL: \"all\",\r\n  PENDING: \"Pending\",\r\n};\r\n\r\nlet ITEMS_PER_PAGE = 10;\r\n\r\nconst FetchVendorQuotation = () => {\r\n  const [vendorQuotation, setVendorQuotation] = useState([]);\r\n  const [variableData, setVariableData] = useState([]);\r\n  const [displayData, setDisplayData] = useState([]);\r\n  const [totalItems, setTotaltems] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [appprovedStatus, setApprovedStatus] = useState(STATUS.ALL);\r\n  const [filterDate, setFileterDate] = useState(0);\r\n  const [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  let [execelData, setExecelData] = useState([]);\r\n\r\n  const fetchVedorQuotation = () => {\r\n    trackPromise(\r\n      getQuotationByVendor()\r\n        .then((res) => {\r\n          console.log(\"response\", res);\r\n          console.log(\"Vendor data\", res.data);\r\n          setVendorQuotation(res.data || []);\r\n          if (res.data) {\r\n            let realData = res.data.map((i) => ({\r\n              approvalComment: i.approvalComment,\r\n              approvalDate: i.approvalDate,\r\n              approvedBy: i.approvedBy,\r\n              caseId: i.caseId,\r\n              comment: i.comment,\r\n              createdAt: i.createdAt,\r\n              createdBy: i.createdBy,\r\n              createdOn: i.createdOn,\r\n              deliveryDate: i.deliveryDate,\r\n              totalAmount: i.totalAmount,\r\n              status: i.status,\r\n              orderId: i.orderId,\r\n              paymnentStatus: i.paymnentStatus,\r\n              processStatus: i.processStatus,\r\n              processStatusInvoice: i.processStatusInvoice,\r\n              processStatusPaymnent: i.processStatusPaymnent,\r\n            }));\r\n\r\n            setExecelData(realData);\r\n          }\r\n          setVariableData(res.data);\r\n        })\r\n        .catch((error) => console.log(error, \"err in fetch\"))\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n    fetchVedorQuotation(signal);\r\n    // setVendorQuotation(dummy);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (appprovedStatus === STATUS.ALL && filterDate === 0) {\r\n      setVariableData(vendorQuotation);\r\n      setTotaltems(vendorQuotation.length);\r\n      return;\r\n    } else if (appprovedStatus !== STATUS.All && filterDate === 0) {\r\n      let newData = vendorQuotation.filter((i) => i.status === appprovedStatus);\r\n      setVariableData(newData);\r\n      setTotaltems(newData.length);\r\n      return;\r\n    } else if (appprovedStatus !== STATUS.All && filterDate !== 0) {\r\n      let newData = vendorQuotation.filter((i) => i.status === appprovedStatus);\r\n      let date = new Date();\r\n      let days = date.getDate() - filterDate;\r\n      date.setDate(days);\r\n      let newData2 = newData.filter((k) => new Date(k) >= date);\r\n      setVariableData(newData2);\r\n      setTotaltems(newData2.length);\r\n    }\r\n  }, [appprovedStatus, vendorQuotation]);\r\n\r\n  useEffect(() => {\r\n    if (appprovedStatus === STATUS.ALL && filterDate === 0) {\r\n      setVariableData(vendorQuotation);\r\n      setTotaltems(vendorQuotation.length);\r\n      return;\r\n    } else if (appprovedStatus === STATUS.All && filterDate !== 0) {\r\n      let newDate = new Date();\r\n      let realDate = newDate.getDate() - fileterDate;\r\n      newDate.setDate(realDate);\r\n      let vData = vendorQuotation.filter((i) => new Date(i) >= newDate);\r\n      setVariableData(vData);\r\n      setTotaltems(vData.length);\r\n      return;\r\n    } else if (appprovedStatus === !STATUS.All && filterDate !== 0) {\r\n      let newDate = new Date();\r\n      let realDate = newDate.getDate() - fileterDate;\r\n      newDate.setDate(realDate);\r\n      let vData = vendorQuotation.filter((i) => new Date(i) >= newDate);\r\n      vData2 = vData.filter((i) => i.status === appprovedStatus);\r\n      setVariableData(vData2);\r\n      setTotaltems(vData2.length);\r\n      return;\r\n    }\r\n  }, [filterDate, vendorQuotation]);\r\n\r\n  useEffect(() => {\r\n    setTotaltems(variableData.length);\r\n    let lastIndex = currentPage * ITEMS_PER_PAGE;\r\n    let startIndex = lastIndex - ITEMS_PER_PAGE;\r\n    let newData = variableData.slice(startIndex, lastIndex);\r\n    setDisplayData(newData);\r\n  }, [currentPage, variableData, vendorQuotation]);\r\n\r\n  const headers = [\r\n    { name: \"SN\", field: \"id\" },\r\n    { name: \"Case Id\", field: \"\", sortable: false },\r\n    { name: \"Total Amount\", field: \"hod\", sortable: true },\r\n    // { name: \"Vendor Email\", field: \"unit\", sortable: true },\r\n    // { name: \"Vendor Name\", field: \"hod\", sortable: true },\r\n    { name: \"Comments\", field: \"unit\", sortable: true },\r\n    { name: \"Status\", field: \"hod\", sortable: true },\r\n    { name: \"Created Date\", field: \"hod\", sortable: true },\r\n  ];\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <Container fluid>\r\n          <Row>\r\n            <Col md=\"12\">\r\n              <Card>\r\n                <Card.Header className=\"d-flex justify-content-between\">\r\n                  <Card.Title as=\"h4\">Vendors Quotations</Card.Title>\r\n                  {/* {\r\n                  <div className=\"buttons\">\r\n                    <Button\r\n                      size=\"sm\"\r\n                      className=\"mr-2\"\r\n                      onClick={() => handleShow(\"add\")}\r\n                    >\r\n                      Add\r\n                    </Button>\r\n\r\n                    <CsvImport\r\n                      setFile={setSelectedFile}\r\n                      onUpload={onFileUpload}\r\n                    />\r\n                  </div>\r\n                }{\" \"} */}\r\n                  <ExcelComponet\r\n                    execelData={execelData}\r\n                    name={\"All Quotations\"}\r\n                  />\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <p className=\"d-flex justify-content-center\">Filter By</p>\r\n                  <Row className=\"d-flex justify-content-center\">\r\n                    <Col sm={6} md={3}>\r\n                      <Form.Group>\r\n                        <Form.Label>Status</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          value={appprovedStatus}\r\n                          onChange={(e) => {\r\n                            setApprovedStatus(e.target.value);\r\n                          }}\r\n                        >\r\n                          <option value={STATUS.ALL}>All</option>\r\n                          <option value={STATUS.APPROVED}>Approved</option>\r\n                          <option value={STATUS.PENDING}>Pending</option>\r\n                          <option value={STATUS.REJECTED}>Rejected</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                    </Col>\r\n                    <Col sm={6} md={3}>\r\n                      <Form.Group>\r\n                        <Form.Label>Dates</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          value={filterDate}\r\n                          onChange={(e) => {\r\n                            setFileterDate(e.target.value);\r\n                          }}\r\n                        >\r\n                          <option value={0}>All</option>\r\n                          <option value={1}>One day ago</option>\r\n                          <option value={3}>Three days ago</option>\r\n                          <option value={7}>one week ago</option>\r\n                          <option value={14}>two week ago</option>\r\n                          <option value={30}>One month ago</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                    </Col>\r\n                  </Row>\r\n                  <div className=\"d-flex justify-content-center\"></div>\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <Pagination\r\n                      total={totalItems}\r\n                      itemsPerPage={ITEMS_PER_PAGE}\r\n                      currentPage={currentPage}\r\n                      onPageChange={(page) => setCurrentPage(page)}\r\n                    />\r\n                  </div>\r\n                  <Table responsive>\r\n                    <TableHeader\r\n                      headers={headers}\r\n                      onSorting={(field, order) => setSorting({ field, order })}\r\n                    />\r\n                    <tbody>\r\n                      {displayData.map((item, index) => {\r\n                        console.log(item);\r\n                        return (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              {index +\r\n                                1 * (ITEMS_PER_PAGE * (currentPage - 1)) +\r\n                                1}\r\n                            </td>\r\n                            <td>{item.caseId}</td>\r\n                            <td>{numberWithCommas(item.totalAmount)}</td>\r\n                            {/* <td>{item.email}</td>\r\n                          <td>{item.name}</td> */}\r\n                            <td>{item.comment}</td>\r\n                            <td>{item.status}</td>\r\n                            <td>{new Date(item.createdAt).toLocaleString()}</td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </Table>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FetchVendorQuotation;\r\n","import React from \"react\";\r\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\r\nimport { useLocation, withRouter, Link, useHistory } from \"react-router-dom\";\r\nimport auth from \"../../auth/auth-helper\";\r\n\r\nexport default function VendorNavbar() {\r\n  let history = useHistory();\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"lg\">\r\n      <Container fluid>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" className=\"mr-2\">\r\n          <span className=\"navbar-toggler-bar burger-lines\"></span>\r\n          <span className=\"navbar-toggler-bar burger-lines\"></span>\r\n          <span className=\"navbar-toggler-bar burger-lines\"></span>\r\n        </Navbar.Toggle>\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"nav mr-auto\" navbar></Nav>\r\n          <Nav className=\"ml-auto\" navbar>\r\n            <div className=\"collapse navbar-collapse\">\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"center nav-item\">\r\n                  {auth.isAuthenticatedVendor().user.email}\r\n                </li>\r\n              </ul>\r\n\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  onClick={() => {\r\n                    auth.clearVendorJWT(() => history.push(\"/vendor/login\"));\r\n                  }}\r\n                  className=\"nav-link\"\r\n                >\r\n                  Sign out\r\n                </Link>\r\n              </li>\r\n            </div>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { useLocation, NavLink } from \"react-router-dom\";\r\n\r\nexport default function VendorSidebar() {\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar-wrapper\">\r\n        <div\r\n          className=\"logo d-flex align-items-center justify-content-start\"\r\n          style={{ background: \"#f8f9fa\" }}\r\n        >\r\n          <a className=\"simple-text\" href=\"#\">\r\n            <img\r\n              src={require(\"assets/img/logo-4.png\").default}\r\n              style={{ width: \"210px\", height: \"50px\" }}\r\n              alt=\"...\"\r\n            />\r\n          </a>\r\n        </div>\r\n        <Nav>\r\n          <ul className=\"navbar-nav ml-auto\">\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Profile</p>\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/vendorQuotation\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Quotations</p>\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/approvedQuotation\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Approved Quotations</p>\r\n              </NavLink>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/rejectedQuotation\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Rejected Quotations</p>\r\n              </NavLink>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/pendingQuotation\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Pending Quotations</p>\r\n              </NavLink>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/analysis\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Quotations Analysis</p>\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/uploadVendorQuotation\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Upload Quotations</p>\r\n              </NavLink>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/profile\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Change Password</p>\r\n              </NavLink>\r\n            </li>\r\n\r\n            {/* <li className=\"nav-item\">\r\n              <NavLink\r\n                to=\"/vendor/profile\"\r\n                className=\"nav-link\"\r\n                activeClassName=\"active\"\r\n                exact\r\n              >\r\n                <i className={\"\"} />\r\n                <p>Profile</p>\r\n              </NavLink>\r\n            </li> */}\r\n          </ul>\r\n        </Nav>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { herouke } from \"../../url\";\r\nimport auth from \"../../auth/auth-helper\";\r\n\r\nexport const getSingleVendorDetails = async () => {\r\n  let vendorId = auth.isAuthenticatedVendor().user.vendorId;\r\n  let url = `${herouke}/api/vportal/${vendorId}`;\r\n  try {\r\n    let response = await fetch(url);\r\n    console.log(response, \"details\");\r\n    if (response.ok && response.status === 200) {\r\n      return response.json();\r\n    } else {\r\n      throw \"Error occur\";\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getVendorQuotationStatusCount = async (status) => {\r\n  let token = auth.isAuthenticatedVendor().token;\r\n  let url = `${herouke}/api/vquotation/getvendorquotationcountbystatus`;\r\n\r\n  try {\r\n    let response = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify({ status }),\r\n    });\r\n    console.log(response, \"rep in upload\", status);\r\n\r\n    if (response.ok && response.status === 200) {\r\n      return response.json();\r\n    } else {\r\n      throw \"Error occur\";\r\n    }\r\n  } catch (err) {\r\n    console.log(\"er upload\", status);\r\n    console.log(err);\r\n  }\r\n};\r\n","import auth from \"auth/auth-helper\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Button, Container, Row, Col, Card } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getSingleVendorDetails } from \"./vendor-api\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nconst VendorDetail = (prop) => {\r\n  let [error, setError] = useState(false);\r\n  let [loading, setLoading] = useState(true);\r\n  let [data, setData] = useState({});\r\n\r\n  useEffect(() => {\r\n    trackPromise(\r\n      getSingleVendorDetails()\r\n        .then((data) => {\r\n          setData(data.data);\r\n          setLoading(false);\r\n          toast.info(\"Detail Fectched\");\r\n        })\r\n        .catch((error) => {\r\n          setError(true);\r\n          setLoading(false);\r\n          toast.error(\"An Error occur\");\r\n        })\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col md=\"12\">\r\n          <Card>\r\n            <Card.Header className=\"d-flex justify-content-between\">\r\n              <Card.Title as=\"h4\">{data.accountName}</Card.Title>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              <Row>\r\n                <Col>\r\n                  <Card>\r\n                    <Card.Header>\r\n                      <Card.Title as=\"h6\">Account Name</Card.Title>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      <Card.Text className=\"font-weight-bold\">\r\n                        {data.accountNumber}\r\n                      </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n                <Col>\r\n                  <Card>\r\n                    <Card.Header>\r\n                      <Card.Title as=\"h6\">Account Type</Card.Title>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      <Card.Text className=\"font-weight-bold\">\r\n                        {data.accountType}\r\n                      </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n                <Col>\r\n                  <Card>\r\n                    <Card.Header>\r\n                      <Card.Title as=\"h6\">Approval Status</Card.Title>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      <Card.Text\r\n                        className={`${\r\n                          data.approvalStatus === \"pending\"\r\n                            ? \"text-danger\"\r\n                            : \"text-success\"\r\n                        }`}\r\n                      >\r\n                        {data.approvalStatus}\r\n                      </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <Card>\r\n                    <Card.Header>\r\n                      <Card.Title as=\"h6\">Email</Card.Title>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      <Card.Text className=\"font-weight-bold\">\r\n                        {data.email}\r\n                      </Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n                <Col>\r\n                  <Card>\r\n                    <Card.Header>\r\n                      <Card.Title as=\"h6\">Bank Name</Card.Title>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      <Card.Text>{data.bankName}</Card.Text>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default VendorDetail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  getQuotationByVendor,\r\n  getQuotationByVendorByStatus,\r\n} from \"./api-vendorQuotation\";\r\nimport TableHeader from \"../../components/TableHeader/TableHeader\";\r\nimport CsvImport from \"components/CsvImport\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport ExcelComponet from \"../../components/ExecelComponent\";\r\nimport { numberWithCommas, formatDate } from \"../../helpers\";\r\nimport {\r\n  Card,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n  ButtonGroup,\r\n  Modal,\r\n  Form,\r\n  DropdownButton,\r\n  Dropdown,\r\n} from \"react-bootstrap\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport { approveQuotation } from \"views/vendor/api-listQuotation\";\r\n\r\nconst STATUS = {\r\n  APPROVED: \"aprroved\",\r\n  REJECTED: \"Rejected\",\r\n  ALL: \"all\",\r\n  PENDING: \"Pending\",\r\n};\r\n\r\nlet ITEMS_PER_PAGE = 10;\r\n\r\nconst ApprovedQuotation = () => {\r\n  const [vendorQuotation, setVendorQuotation] = useState([]);\r\n  const [variableData, setVariableData] = useState([]);\r\n  const [displayData, setDisplayData] = useState([]);\r\n  const [totalItems, setTotaltems] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n  let [execelData, setExecelData] = useState([]);\r\n  const [startingDate, setStartingDate] = useState();\r\n  const [endingDate, setEndingDate] = useState();\r\n\r\n  const fetchVedorQuotation = () => {\r\n    trackPromise(\r\n      getQuotationByVendorByStatus(\"Approved\")\r\n        .then((res) => {\r\n          console.log(\"response ooo\", res);\r\n          console.log(\"Vendor data\", res.data);\r\n          setVendorQuotation(res.data || []);\r\n          if (res.data) {\r\n            let realData = res.data.map((i) => ({\r\n              approvalComment: i.approvalComment,\r\n              approvalDate: i.approvalDate,\r\n              approvedBy: i.approvedBy,\r\n              caseId: i.caseId,\r\n              comment: i.comment,\r\n              createdAt: i.createdAt,\r\n              createdBy: i.createdBy,\r\n              createdOn: i.createdOn,\r\n              deliveryDate: i.deliveryDate,\r\n              totalAmount: i.totalAmount,\r\n              status: i.status,\r\n              orderId: i.orderId,\r\n              paymnentStatus: i.paymnentStatus,\r\n              processStatus: i.processStatus,\r\n              processStatusInvoice: i.processStatusInvoice,\r\n              processStatusPaymnent: i.processStatusPaymnent,\r\n            }));\r\n\r\n            setExecelData(realData);\r\n          }\r\n          setVariableData(res.data);\r\n        })\r\n        .catch((error) => console.log(error, \"err in fetch\"))\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n    fetchVedorQuotation(signal);\r\n    // setVendorQuotation(dummy);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setTotaltems(variableData.length);\r\n    let lastIndex = currentPage * ITEMS_PER_PAGE;\r\n    let startIndex = lastIndex - ITEMS_PER_PAGE;\r\n    let newData = variableData.slice(startIndex, lastIndex);\r\n    setDisplayData(newData);\r\n  }, [currentPage, variableData, vendorQuotation]);\r\n\r\n  useEffect(() => {\r\n    console.log();\r\n    if (startingDate && endingDate) {\r\n      console.log(\"in staing and\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(\r\n          formatDate(i.approvalDate) >= formatDate(startingDate) &&\r\n            formatDate(i.approvalDate) <= formatDate(endingDate),\r\n          \"ooo\"\r\n        );\r\n        return (\r\n          formatDate(i.approvalDate) >= formatDate(startingDate) &&\r\n          formatDate(i.approvalDate) <= formatDate(endingDate)\r\n        );\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n\r\n    if (startingDate && !endingDate) {\r\n      console.log(\"in staing and 11\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(startingDate >= new Date(i.approvalDate), \"iiii\");\r\n        return formatDate(i.approvalDate) >= formatDate(startingDate);\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n\r\n    if (!startingDate && endingDate) {\r\n      console.log(\"in staing and33\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(new Date(i.approvalDate) <= endingDate, \"make proun\");\r\n        return formatDate(i.approvalDate) <= formatDate(endingDate);\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n  }, [startingDate, endingDate]);\r\n  const headers = [\r\n    { name: \"SN\", field: \"id\" },\r\n    { name: \"Case Id\", field: \"\", sortable: false },\r\n    { name: \"Total Amount\", field: \"hod\", sortable: true },\r\n    { name: \"Approved By\", field: \"hod\", sortable: true },\r\n    // { name: \"Vendor Email\", field: \"unit\", sortable: true },\r\n    // { name: \"Vendor Name\", field: \"hod\", sortable: true },\r\n    { name: \"Comments\", field: \"unit\", sortable: true },\r\n    { name: \"Approval Date\", field: \"hod\", sortable: true },\r\n  ];\r\n  return (\r\n    <div>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Card>\r\n              <Card.Header className=\"d-flex justify-content-between\">\r\n                <Card.Title as=\"h4\">Approved Quotations</Card.Title>\r\n                <ExcelComponet\r\n                  execelData={execelData}\r\n                  name={\"Approved Quotations\"}\r\n                />\r\n              </Card.Header>\r\n\r\n              <Card.Body>\r\n                <p className=\"d-flex justify-content-center\">Filter By</p>\r\n                <Row className=\"d-flex justify-content-center\">\r\n                  <Col sm={6} md={3}>\r\n                    <Form.Group controlId=\"caseId\">\r\n                      <Form.Label>Starting Date</Form.Label>\r\n                      <DayPickerInput\r\n                        style={{ display: \"block\", padding: \"6 12\" }}\r\n                        value={startingDate}\r\n                        onDayChange={(e) => setStartingDate(new Date(e))}\r\n                        placeholder=\"DD/MM/YYYY\"\r\n                        format=\"DD/MM/YYYY\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  <Col sm={6} md={3}>\r\n                    <Form.Group controlId=\"caseId\">\r\n                      <Form.Label>Ending Date</Form.Label>\r\n                      <DayPickerInput\r\n                        style={{ display: \"block\", padding: \"6 12\" }}\r\n                        value={endingDate}\r\n                        onDayChange={(e) => setEndingDate(new Date(e))}\r\n                        placeholder=\"DD/MM/YYYY\"\r\n                        format=\"DD/MM/YYYY\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n                <div className=\"d-flex justify-content-center\"></div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <Pagination\r\n                    total={totalItems}\r\n                    itemsPerPage={ITEMS_PER_PAGE}\r\n                    currentPage={currentPage}\r\n                    onPageChange={(page) => setCurrentPage(page)}\r\n                  />\r\n                </div>\r\n                <Table responsive>\r\n                  <TableHeader\r\n                    headers={headers}\r\n                    onSorting={(field, order) => setSorting({ field, order })}\r\n                  />\r\n                  <tbody>\r\n                    {displayData.map((item, index) => {\r\n                      console.log(item);\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            {index +\r\n                              1 * (ITEMS_PER_PAGE * (currentPage - 1)) +\r\n                              1}\r\n                          </td>\r\n                          <td>{item.caseId}</td>\r\n                          <td>{numberWithCommas(item.totalAmount)}</td>\r\n                          {/* <td>{item.email}</td>\r\n                          <td>{item.name}</td> */}\r\n                          <td>{item.approvedBy}</td>\r\n                          <td>{item.comment}</td>\r\n                          <td>\r\n                            {new Date(item.approvalDate).toLocaleString()}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApprovedQuotation;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  getQuotationByVendor,\r\n  getQuotationByVendorByStatus,\r\n} from \"./api-vendorQuotation\";\r\nimport TableHeader from \"../../components/TableHeader/TableHeader\";\r\nimport CsvImport from \"components/CsvImport\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport { numberWithCommas, formatDate } from \"../../helpers\";\r\nimport ExcelComponet from \"../../components/ExecelComponent\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nimport {\r\n  Card,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n  ButtonGroup,\r\n  Modal,\r\n  Form,\r\n  DropdownButton,\r\n  Dropdown,\r\n} from \"react-bootstrap\";\r\nimport ExecelComponent from \"../../components/ExecelComponent\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\n\r\nconst STATUS = {\r\n  APPROVED: \"aprroved\",\r\n  REJECTED: \"Rejected\",\r\n  ALL: \"all\",\r\n  PENDING: \"Pending\",\r\n};\r\n\r\nlet ITEMS_PER_PAGE = 10;\r\n\r\nconst PendingQuotation = () => {\r\n  const [vendorQuotation, setVendorQuotation] = useState([]);\r\n  const [variableData, setVariableData] = useState([]);\r\n  const [displayData, setDisplayData] = useState([]);\r\n  const [totalItems, setTotaltems] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [appprovedStatus, setApprovedStatus] = useState(STATUS.ALL);\r\n  const [filterDate, setFileterDate] = useState(0);\r\n  const [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n  const [execelData, setExecelData] = useState();\r\n  const [startingDate, setStartingDate] = useState();\r\n  const [endingDate, setEndingDate] = useState();\r\n\r\n  const fetchVedorQuotation = () => {\r\n    trackPromise(\r\n      getQuotationByVendorByStatus(\"Pending\")\r\n        .then((res) => {\r\n          console.log(\"response\", res);\r\n          console.log(\"Vendor data\", res.data);\r\n          setVendorQuotation(res.data || []);\r\n          if (res.data) {\r\n            let realData = res.data.map((i) => ({\r\n              approvalComment: i.approvalComment,\r\n              approvalDate: i.approvalDate,\r\n              approvedBy: i.approvedBy,\r\n              caseId: i.caseId,\r\n              comment: i.comment,\r\n              createdAt: i.createdAt,\r\n              createdBy: i.createdBy,\r\n              createdOn: i.createdOn,\r\n              deliveryDate: i.deliveryDate,\r\n              totalAmount: i.totalAmount,\r\n              status: i.status,\r\n              orderId: i.orderId,\r\n              paymnentStatus: i.paymnentStatus,\r\n              processStatus: i.processStatus,\r\n              processStatusInvoice: i.processStatusInvoice,\r\n              processStatusPaymnent: i.processStatusPaymnent,\r\n            }));\r\n\r\n            setExecelData(realData);\r\n          }\r\n          setVariableData(res.data);\r\n        })\r\n        .catch((error) => console.log(error, \"err in fetch\"))\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n    fetchVedorQuotation(signal);\r\n    // setVendorQuotation(dummy);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (startingDate && endingDate) {\r\n      console.log(\"in staing and\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(formatDate(i.createdAt), \"ooo\");\r\n        return (\r\n          formatDate(i.createdAt) >= formatDate(startingDate) &&\r\n          formatDate(i.createdAt) <= formatDate(endingDate)\r\n        );\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n\r\n    if (startingDate && !endingDate) {\r\n      console.log(\"in staing and 11\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(\r\n          formatDate(i.createdAt),\r\n          \"iiiiooo\",\r\n          formatDate(startingDate)\r\n        );\r\n        return formatDate(i.createdAt) >= formatDate(startingDate);\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n\r\n    if (!startingDate && endingDate) {\r\n      console.log(\"in staing and33\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(new Date(i.createdAt) <= endingDate, \"make proun\");\r\n        return new formatDate(i.createdAt) <= formatDate(endingDate);\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n  }, [startingDate, endingDate]);\r\n\r\n  useEffect(() => {\r\n    setTotaltems(variableData.length);\r\n    let lastIndex = currentPage * ITEMS_PER_PAGE;\r\n    let startIndex = lastIndex - ITEMS_PER_PAGE;\r\n    let newData = variableData.slice(startIndex, lastIndex);\r\n    setDisplayData(newData);\r\n  }, [currentPage, variableData, vendorQuotation]);\r\n\r\n  const headers = [\r\n    { name: \"SN\", field: \"id\" },\r\n    { name: \"Case Id\", field: \"\", sortable: false },\r\n    { name: \"Total Amount\", field: \"hod\", sortable: true },\r\n    // { name: \"Vendor Email\", field: \"unit\", sortable: true },\r\n    // { name: \"Vendor Name\", field: \"hod\", sortable: true },\r\n\r\n    { name: \"Comments\", field: \"unit\", sortable: true },\r\n    { name: \"Created Date\", field: \"hod\", sortable: true },\r\n  ];\r\n  return (\r\n    <div>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Card>\r\n              <Card.Header className=\"d-flex justify-content-between\">\r\n                <Card.Title as=\"h4\">Pending Quotations</Card.Title>\r\n                <ExcelComponet\r\n                  execelData={execelData}\r\n                  name={\"Pending Quotations\"}\r\n                />\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <p className=\"d-flex justify-content-center\">Filter By</p>\r\n                <Row className=\"d-flex justify-content-center\">\r\n                  <Col sm={6} md={3}>\r\n                    <Form.Group controlId=\"caseId\">\r\n                      <Form.Label>Starting Date</Form.Label>\r\n                      <DayPickerInput\r\n                        style={{ display: \"block\", padding: \"6 12\" }}\r\n                        value={startingDate}\r\n                        onDayChange={(e) => setStartingDate(new Date(e))}\r\n                        placeholder=\"DD/MM/YYYY\"\r\n                        format=\"DD/MM/YYYY\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  <Col sm={6} md={3}>\r\n                    <Form.Group controlId=\"caseId\">\r\n                      <Form.Label>Ending Date</Form.Label>\r\n                      <DayPickerInput\r\n                        style={{ display: \"block\", padding: \"6 12\" }}\r\n                        value={endingDate}\r\n                        onDayChange={(e) => setEndingDate(new Date(e))}\r\n                        placeholder=\"DD/MM/YYYY\"\r\n                        format=\"DD/MM/YYYY\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n                <div className=\"d-flex justify-content-center\"></div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <Pagination\r\n                    total={totalItems}\r\n                    itemsPerPage={ITEMS_PER_PAGE}\r\n                    currentPage={currentPage}\r\n                    onPageChange={(page) => setCurrentPage(page)}\r\n                  />\r\n                </div>\r\n                <Table responsive>\r\n                  <TableHeader\r\n                    headers={headers}\r\n                    onSorting={(field, order) => setSorting({ field, order })}\r\n                  />\r\n                  <tbody>\r\n                    {displayData.map((item, index) => {\r\n                      console.log(item);\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            {index +\r\n                              1 * (ITEMS_PER_PAGE * (currentPage - 1)) +\r\n                              1}\r\n                          </td>\r\n                          <td>{item.caseId}</td>\r\n                          <td>{numberWithCommas(item.totalAmount)}</td>\r\n                          {/* <td>{item.email}</td>\r\n                          <td>{item.name}</td> */}\r\n\r\n                          <td>{item.comment}</td>\r\n                          <td>{new Date(item.createdAt).toLocaleString()}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PendingQuotation;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  getQuotationByVendor,\r\n  getQuotationByVendorByStatus,\r\n} from \"./api-vendorQuotation\";\r\nimport TableHeader from \"../../components/TableHeader/TableHeader\";\r\nimport CsvImport from \"components/CsvImport\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport { formatDate, numberWithCommas } from \"../../helpers\";\r\nimport ExcelComponet from \"../../components/ExecelComponent\";\r\nimport {\r\n  Card,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n  ButtonGroup,\r\n  Modal,\r\n  Form,\r\n  DropdownButton,\r\n  Dropdown,\r\n} from \"react-bootstrap\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\n\r\nconst STATUS = {\r\n  APPROVED: \"aprroved\",\r\n  REJECTED: \"Rejected\",\r\n  ALL: \"all\",\r\n  PENDING: \"Pending\",\r\n};\r\n\r\nlet ITEMS_PER_PAGE = 10;\r\n\r\nconst RejectedQuotation = () => {\r\n  const [vendorQuotation, setVendorQuotation] = useState([]);\r\n  const [variableData, setVariableData] = useState([]);\r\n  const [displayData, setDisplayData] = useState([]);\r\n  const [totalItems, setTotaltems] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [appprovedStatus, setApprovedStatus] = useState(STATUS.ALL);\r\n  const [filterDate, setFileterDate] = useState(0);\r\n  const [sorting, setSorting] = useState({ field: \"\", order: \"\" });\r\n  const [execelData, setExecelData] = useState();\r\n  const [startingDate, setStartingDate] = useState();\r\n  const [endingDate, setEndingDate] = useState();\r\n\r\n  const fetchVedorQuotation = () => {\r\n    trackPromise(\r\n      getQuotationByVendorByStatus(\"Rejected\")\r\n        .then((res) => {\r\n          console.log(\"response\", res);\r\n          console.log(\"Vendor data\", res.data);\r\n          setVendorQuotation(res.data);\r\n          if (res.data) {\r\n            let realData = res.data.map((i) => ({\r\n              approvalComment: i.approvalComment,\r\n              approvalDate: i.approvalDate,\r\n              approvedBy: i.approvedBy,\r\n              caseId: i.caseId,\r\n              comment: i.comment,\r\n              createdAt: i.createdAt,\r\n              createdBy: i.createdBy,\r\n              createdOn: i.createdOn,\r\n              deliveryDate: i.deliveryDate,\r\n              totalAmount: i.totalAmount,\r\n              status: i.status,\r\n              orderId: i.orderId,\r\n              paymnentStatus: i.paymnentStatus,\r\n              processStatus: i.processStatus,\r\n              processStatusInvoice: i.processStatusInvoice,\r\n              processStatusPaymnent: i.processStatusPaymnent,\r\n            }));\r\n\r\n            setExecelData(realData);\r\n          }\r\n          setVariableData(res.data);\r\n        })\r\n        .catch((error) => console.log(error, \"err in fetch\"))\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n    fetchVedorQuotation(signal);\r\n    // setVendorQuotation(dummy);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log();\r\n    if (startingDate && endingDate) {\r\n      console.log(\"in staing and\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(\r\n          new Date(i.approvalDate).set >= startingDate &&\r\n            new Date(i.approvalDate) <= endingDate,\r\n          \"ooo\"\r\n        );\r\n        return (\r\n          formatDate(i.approvalDate) >= formatDate(startingDate) &&\r\n          formatDate(i.approvalDate) <= formatDate(endingDate)\r\n        );\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n\r\n    if (startingDate && !endingDate) {\r\n      console.log(\"in staing and 11\", startingDate);\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(startingDate >= new Date(i.approvalDate), \"iiii\");\r\n        return formatDate(i.approvalDate) >= formatDate(startingDate);\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n\r\n    if (!startingDate && endingDate) {\r\n      console.log(\"in staing and33\");\r\n      let newData = vendorQuotation.filter((i) => {\r\n        console.log(\r\n          new Date(i.approvalDate) <= formatDate(endingDate),\r\n          \"make proun\"\r\n        );\r\n        return formatDate(i.approvalDate) <= formatDate(endingDate);\r\n      });\r\n\r\n      setVariableData(newData);\r\n    }\r\n  }, [startingDate, endingDate]);\r\n\r\n  useEffect(() => {\r\n    setTotaltems(variableData.length);\r\n    let lastIndex = currentPage * ITEMS_PER_PAGE;\r\n    let startIndex = lastIndex - ITEMS_PER_PAGE;\r\n    let newData = variableData.slice(startIndex, lastIndex);\r\n    setDisplayData(newData);\r\n  }, [currentPage, variableData, vendorQuotation]);\r\n\r\n  const headers = [\r\n    { name: \"SN\", field: \"id\" },\r\n    { name: \"Case Id\", field: \"\", sortable: false },\r\n    { name: \"Total Amount\", field: \"hod\", sortable: true },\r\n    // { name: \"Vendor Email\", field: \"unit\", sortable: true },\r\n    // { name: \"Vendor Name\", field: \"hod\", sortable: true },\r\n    { name: \"Rejected By\", field: \"hod\", sortable: true },\r\n    { name: \"Comments\", field: \"unit\", sortable: true },\r\n    { name: \"Rejected Date\", field: \"hod\", sortable: true },\r\n  ];\r\n  return (\r\n    <div>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Card>\r\n              <Card.Header className=\"d-flex justify-content-between\">\r\n                <Card.Title as=\"h4\">Rejected Quotations</Card.Title>\r\n\r\n                <ExcelComponet\r\n                  execelData={execelData}\r\n                  name={\"Rejected Quotations\"}\r\n                />\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <p className=\"d-flex justify-content-center\">Filter By</p>\r\n                <Row className=\"d-flex justify-content-center\">\r\n                  <Col sm={6} md={3}>\r\n                    <Form.Group controlId=\"caseId\">\r\n                      <Form.Label>Starting Date</Form.Label>\r\n                      <DayPickerInput\r\n                        style={{}}\r\n                        value={startingDate}\r\n                        onDayChange={(e) => setStartingDate(new Date(e))}\r\n                        placeholder=\"DD/MM/YYYY\"\r\n                        format=\"DD/MM/YYYY\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  <Col sm={6} md={3}>\r\n                    <Form.Group controlId=\"caseId\">\r\n                      <Form.Label>Ending Date</Form.Label>\r\n                      <DayPickerInput\r\n                        style={{ display: \"block\", padding: \"6 12\" }}\r\n                        value={endingDate}\r\n                        onDayChange={(e) => setEndingDate(new Date(e))}\r\n                        placeholder=\"DD/MM/YYYY\"\r\n                        format=\"DD/MM/YYYY\"\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                </Row>\r\n                <div className=\"d-flex justify-content-center\"></div>\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <Pagination\r\n                    total={totalItems}\r\n                    itemsPerPage={ITEMS_PER_PAGE}\r\n                    currentPage={currentPage}\r\n                    onPageChange={(page) => setCurrentPage(page)}\r\n                  />\r\n                </div>\r\n                <Table responsive>\r\n                  <TableHeader\r\n                    headers={headers}\r\n                    onSorting={(field, order) => setSorting({ field, order })}\r\n                  />\r\n                  <tbody>\r\n                    {displayData.map((item, index) => {\r\n                      console.log(item);\r\n                      return (\r\n                        <tr key={index}>\r\n                          <td>\r\n                            {index +\r\n                              1 * (ITEMS_PER_PAGE * (currentPage - 1)) +\r\n                              1}\r\n                          </td>\r\n                          <td>{item.caseId}</td>\r\n                          <td>{numberWithCommas(item.totalAmount)}</td>\r\n                          {/* <td>{item.email}</td>\r\n                          <td>{item.name}</td> */}\r\n\r\n                          <td>{item.approvedBy}</td>\r\n                          <td>{item.comment}</td>\r\n                          <td>\r\n                            {new Date(item.approvalDate).toLocaleString()}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RejectedQuotation;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Form,\r\n  Modal,\r\n} from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { getVendorQuotationStatusCount } from \"./vendor-api\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nconst Analysis = () => {\r\n  const [approved, setApproved] = useState();\r\n  const [rejected, setRejected] = useState();\r\n  const [pending, setPending] = useState();\r\n  const [show, setShow] = useState({\r\n    pending: false,\r\n    approved: false,\r\n    rejected: false,\r\n  });\r\n  //  const [datasets,setDatasets] = useState()\r\n\r\n  let labels = [\"Total\", \"Approved\", \"Pending\", \"Rejected\"];\r\n\r\n  let datasets = [\r\n    {\r\n      label: \"Quotation\",\r\n      fill: false,\r\n      lineTension: 0.5,\r\n      backgroundColor: \"#1FB5AA\",\r\n      borderColor: \"rgba(0,0,0,1)\",\r\n      borderWidth: 2,\r\n      data: [approved + rejected + pending, approved, pending, rejected],\r\n    },\r\n  ];\r\n\r\n  const getApprovedQuotation = () => {\r\n    trackPromise(\r\n      getVendorQuotationStatusCount(\"Approved\")\r\n        .then((data) => {\r\n          if (data.message === \"Success\") {\r\n            setApproved(data.data);\r\n            setShow((prev) => ({ ...prev, approved: true }));\r\n          } else {\r\n            console.log(data);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n    );\r\n  };\r\n\r\n  const getPendingQuotation = () => {\r\n    trackPromise(\r\n      getVendorQuotationStatusCount(\"Pending\")\r\n        .then((data) => {\r\n          if (data.message === \"Success\") {\r\n            setPending(data.data);\r\n            setShow((prev) => ({ ...prev, pending: true }));\r\n          } else {\r\n            console.log(data);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n    );\r\n  };\r\n\r\n  const getRejectedQuotation = () => {\r\n    trackPromise(\r\n      getVendorQuotationStatusCount(\"Rejected\")\r\n        .then((data) => {\r\n          if (data.message === \"Success\") {\r\n            setRejected(data.data);\r\n            setShow((prev) => ({ ...prev, rejected: true }));\r\n          } else {\r\n            console.log(data);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getApprovedQuotation();\r\n    getPendingQuotation();\r\n    getRejectedQuotation();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col md=\"12\">\r\n          <Card>\r\n            <Card.Header className=\"d-flex justify-content-between\">\r\n              <Card.Title as=\"h4\">Quotation Analysis</Card.Title>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {show.rejected && show.approved && show.pending && (\r\n                <Bar\r\n                  data={{ labels, datasets }}\r\n                  options={{\r\n                    title: {\r\n                      display: true,\r\n                      text: \"Quotation\",\r\n                      fontSize: 20,\r\n                    },\r\n                    legend: {\r\n                      display: true,\r\n                      position: \"right\",\r\n                    },\r\n                  }}\r\n                />\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Analysis;\r\n","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nconst ErrorMessage = (props) => {\r\n  return props.status ? (\r\n    <Form.Text className=\"text-danger\">{props.message}</Form.Text>\r\n  ) : null;\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Form,\r\n  Modal,\r\n} from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getQuotationByCaseId, uploadQuotation } from \"./api-vendorQuotation\";\r\nimport ErrorMessage from \"../../components/ErrorMessage/ErrorMessage\";\r\nimport axios from \"../../axios\";\r\nimport auth from \"../../auth/auth-helper\";\r\nimport { numberWithCommas } from \"../../helpers\";\r\nimport { SettingsInputAntennaTwoTone } from \"@material-ui/icons\";\r\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nimport \"react-day-picker/lib/style.css\";\r\nimport { propTypes } from \"react-bootstrap/esm/Image\";\r\n\r\nconst UploadQuotation = (props) => {\r\n  const [file, setFile] = useState();\r\n  const [caseId, setCaseId] = useState(\"\");\r\n  const [show, setShow] = useState(true);\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [caseError, setCaseError] = useState(false);\r\n  const [date, setDate] = useState();\r\n  const [formData, setFormData] = useState({\r\n    comment: \"\",\r\n    totalAmount: 0,\r\n  });\r\n  const [formError, setformError] = useState({\r\n    comment: true,\r\n    totalAmount: true,\r\n    file: true,\r\n  });\r\n\r\n  const submitCaseId = () => {\r\n    if (caseId.length > 3) {\r\n      trackPromise(\r\n        getQuotationByCaseId(caseId)\r\n          .then((data) => {\r\n            setOrders(data.data);\r\n            console.log(data.data);\r\n            setShow(false);\r\n            setLoading(false);\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n            toast.error(\"Invalid CaseId\");\r\n          })\r\n      );\r\n    } else {\r\n      setCaseError(true);\r\n    }\r\n  };\r\n  const handleCaseId = (e) => {\r\n    setCaseId(e.target.value);\r\n    console.log(caseId, e.target.value);\r\n  };\r\n\r\n  const handleDateChange = (e) => {\r\n    console.log(new Date(e).toISOString(), \"date change\");\r\n    let date = new Date(e).toISOString();\r\n    setDate(date);\r\n  };\r\n\r\n  const handleOnChange = ({ target }) => {\r\n    console.log(\"Targets\", target);\r\n    setFormData((prev) => ({ ...prev, [target.name]: target.value }));\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    event.preventDefault();\r\n    const holder = event.target.files[0];\r\n    setFile(holder);\r\n  };\r\n\r\n  const checkformError = () => {\r\n    setformError({\r\n      comment: false,\r\n      totalAmount: false,\r\n      caseId: false,\r\n      file: false,\r\n    });\r\n    if (formData.totalAmount < 1)\r\n      setformError((prev) => ({ ...prev, totalAmount: true }));\r\n    if (formData.comment.length < 1)\r\n      setformError((prev) => ({ ...prev, comment: true }));\r\n    if (!file) setformError((prev) => ({ ...prev, file: true }));\r\n    console.log(formError);\r\n    if (formError.totalAmount || formError.comment || formError.file) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    let payload = new FormData();\r\n    if (checkformError()) {\r\n      console.log(\"mm\");\r\n      return;\r\n    } else {\r\n      let ordersNew = [\r\n        {\r\n          id: \"861c4caf-384b-4151-ad07-2d6f37df46e7\",\r\n          items: [\r\n            {\r\n              amount: \"500\",\r\n              name: \"table\",\r\n              quantity: 2,\r\n            },\r\n            {\r\n              amount: \"20\",\r\n              name: \"biro\",\r\n              quantity: 2,\r\n              vendorId: \"dcc3cfbe-8157-4fb7-b6ba-dad59ff7a664\",\r\n            },\r\n            {\r\n              amount: \"1000\",\r\n              name: \"car\",\r\n              quantity: 2,\r\n            },\r\n            {\r\n              amount: \"80\",\r\n              name: \"laptop\",\r\n              quantity: 2,\r\n            },\r\n          ],\r\n          status: false,\r\n          vendorId: \"dcc3cfbe-8157-4fb7-b6ba-dad59ff7a664\",\r\n        },\r\n        {\r\n          id: \"9006aae8-b1ed-459e-8f31-8f2a5d0d2ed6\",\r\n          items: [\r\n            {\r\n              amount: \"500\",\r\n              name: \"table\",\r\n              quantity: 3,\r\n            },\r\n            {\r\n              amount: \"20\",\r\n              name: \"pen\",\r\n              quantity: 3,\r\n            },\r\n            {\r\n              amount: \"1000\",\r\n              name: \"car\",\r\n              quantity: 3,\r\n            },\r\n            {\r\n              amount: \"80\",\r\n              name: \"laptop\",\r\n              quantity: 3,\r\n            },\r\n          ],\r\n          status: false,\r\n          vendorId: \"dcc3cfbe-8157-4fb7-b6ba-dad59ff7a664\",\r\n        },\r\n      ];\r\n\r\n      console.log(orders, \"orders\");\r\n      payload.append(\"comment\", formData.comment);\r\n      payload.append(\"totalAmount\", formData.totalAmount);\r\n      payload.append(\"quotationFile\", file);\r\n      payload.append(\"caseId\", caseId);\r\n      payload.append(\"deliveryDate\", date);\r\n      payload.append(\"orders\", orders);\r\n      trackPromise(\r\n        uploadQuotation(payload)\r\n          .then((res) => {\r\n            console.log(res, \"upload \");\r\n            toast.success(\"Quotation upload successfully\");\r\n            setFormData({\r\n              comment: \"\",\r\n              totalAmount: 0,\r\n            });\r\n            setFile();\r\n            console.log(res, \"resp upload\");\r\n            //    props.history.push(\"/vendor\");\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"Payload From singleLog\", payload, err.response);\r\n            toast.error(\"An error occur\");\r\n          })\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Container fluid>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Card>\r\n              <Card.Header>\r\n                <Card.Title className=\"d-flex justify-content-between\">\r\n                  <h4>Orders</h4>\r\n                </Card.Title>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                {orders.map((i) => {\r\n                  return (\r\n                    <>\r\n                      <Row>\r\n                        <Col>\r\n                          <Card.Subtitle className=\"mb-3\">{i.id}</Card.Subtitle>\r\n                        </Col>\r\n                      </Row>\r\n                      <Row>\r\n                        {i.items.map((k) => (\r\n                          <Col>\r\n                            <Card>\r\n                              <Card.Header>\r\n                                <Card.Title as=\"h6\">{k.name}</Card.Title>\r\n                              </Card.Header>\r\n                              <Card.Body>\r\n                                <Card.Text>\r\n                                  <span className=\"mr-3\">Quantity</span>\r\n                                  <span className=\"font-weight-bold badge badge-primary text-light p-2\">\r\n                                    {k.quantity}\r\n                                  </span>\r\n                                </Card.Text>\r\n                                <Card.Text>\r\n                                  <span className=\"mr-3\">Amount</span>\r\n                                  <span className=\"font-weight-bold badge badge-success text-light p-2\">\r\n                                    {numberWithCommas(k.amount)}\r\n                                  </span>\r\n                                </Card.Text>\r\n                              </Card.Body>\r\n                            </Card>\r\n                          </Col>\r\n                        ))}\r\n                      </Row>\r\n                    </>\r\n                  );\r\n                })}\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col md=\"12\">\r\n            <Card>\r\n              <Card.Header>\r\n                <Card.Title className=\"d-flex justify-content-between\">\r\n                  <h4>Upload Quotation</h4>\r\n                </Card.Title>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <Form onSubmit={onSubmit}>\r\n                  <Form.Group controlId=\"caseId\">\r\n                    <Form.Label>Case ID</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"caseId\"\r\n                      value={caseId}\r\n                      contentEditable={false}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"caseId\">\r\n                    <Form.Label>Delivery Date</Form.Label>\r\n                    <DayPickerInput\r\n                      style={{ display: \"block\", padding: \"12\" }}\r\n                      value={date}\r\n                      onDayChange={handleDateChange}\r\n                      placeholder=\"DD/MM/YYYY\"\r\n                      format=\"DD/MM/YYYY\"\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId=\"totalAmount\">\r\n                    <Form.Label>Total Amount</Form.Label>\r\n                    <Form.Control\r\n                      type=\"number\"\r\n                      placeholder=\"Please enter total amount\"\r\n                      name=\"totalAmount\"\r\n                      value={formData.totalAmount}\r\n                      onChange={handleOnChange}\r\n                    />\r\n\r\n                    <ErrorMessage\r\n                      status={formError.totalAmount}\r\n                      message={\"Total amount must be greater than 1\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"file\">\r\n                    <Form.File\r\n                      id=\"uploadFile\"\r\n                      label=\"Upload File\"\r\n                      onChange={onFileChange}\r\n                    />\r\n\r\n                    <ErrorMessage\r\n                      status={formError.file}\r\n                      message={\"You must input a valid file\"}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"comment\">\r\n                    <Form.Label>Comment</Form.Label>\r\n                    <Form.Control\r\n                      as=\"textarea\"\r\n                      rows={3}\r\n                      name=\"comment\"\r\n                      value={formData.comment}\r\n                      onChange={handleOnChange}\r\n                    />\r\n\r\n                    <ErrorMessage\r\n                      status={formError.comment}\r\n                      message={\"You must input a comment\"}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Button variant=\"primary\" onClick={onSubmit}>\r\n                    Submit\r\n                  </Button>\r\n                </Form>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Modal show={show}>\r\n          <Modal.Header>\r\n            <Modal.Title>Case Id</Modal.Title>\r\n          </Modal.Header>\r\n\r\n          <Form>\r\n            <Modal.Body>\r\n              <Form.Group controlId=\"caseId\">\r\n                <Form.Label>Case ID</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"caseId\"\r\n                  value={caseId}\r\n                  onChange={handleCaseId}\r\n                />\r\n              </Form.Group>\r\n              {caseError && (\r\n                <Form.Text className=\"text-danger\">\r\n                  {caseId.length === 0\r\n                    ? \"Case Id is required\"\r\n                    : \"Invalid case id\"}\r\n                </Form.Text>\r\n              )}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"primary\" onClick={() => submitCaseId()}>\r\n                Submit\r\n              </Button>\r\n              <Button\r\n                variant=\"danger\"\r\n                onClick={() => {\r\n                  props.history.push(\"/vendor\");\r\n                }}\r\n              >\r\n                cancel\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Form>\r\n        </Modal>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadQuotation;\r\n","import { herouke } from \"../../url\";\r\nimport auth from \"../../auth/auth-helper\";\r\n\r\nconst changePassWord = async (payload) => {\r\n  let data = auth.isAuthenticatedVendor();\r\n\r\n  try {\r\n    let response = await fetch(`${herouke}/api/vportal/changepassword`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + data.token,\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(\"er\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst resetPassWord = async (payload) => {\r\n  let obj = {\r\n    email: payload,\r\n  };\r\n  try {\r\n    let response = await fetch(`${herouke}/api/vportal/requestResetPassword`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(obj),\r\n    });\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(\"er\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst setResetPassword = async (payload) => {\r\n  try {\r\n    let response = await fetch(`${herouke}/api/vportal/resetPassword`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(\"er\");\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport { changePassWord, resetPassWord, setResetPassword };\r\n","import React, { useState } from \"react\";\r\nimport { Container, Row, Col, Form, Card, Button } from \"react-bootstrap\";\r\nimport { changePassWord } from \"./api-profile\";\r\nimport { toast } from \"react-toastify\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nexport default function Profile() {\r\n  const [value, setValue] = useState({\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n    oldPassword: \"\",\r\n  });\r\n  const [err, setErr] = useState(false);\r\n  const handleChange = ({ target }) => {\r\n    setValue({ ...value, [target.name]: target.value });\r\n  };\r\n\r\n  const submitPassword = () => {\r\n    if (value.confirmPassword === value.newPassword) {\r\n      let payload = {\r\n        newpassword: value.newPassword,\r\n        oldpassword: value.oldPassword,\r\n        confirmpassword: value.confirmPassword,\r\n      };\r\n      trackPromise(\r\n        changePassWord(payload)\r\n          .then((res) => {\r\n            console.log(\"passwordChange\", res);\r\n            setValue({\r\n              newPassword: \"\",\r\n              confirmPassword: \"\",\r\n              oldPassword: \"\",\r\n            });\r\n            toast.success(\"Password Change successfully\");\r\n          })\r\n          .catch((error) => {\r\n            toast.error(\"Please try again\");\r\n            console.log(error, \"err in fetch\");\r\n          })\r\n      );\r\n    } else {\r\n      setErr(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row>\r\n        <Col md=\"6\">\r\n          <h4>Change Password</h4>\r\n          <Form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              submitPassword();\r\n            }}\r\n          >\r\n            <Form.Group controlId=\"oldPassword\">\r\n              <Form.Label>Old Password</Form.Label>\r\n              <Form.Control\r\n                value={value.oldPassword}\r\n                onChange={handleChange}\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n                name=\"oldPassword\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"newPassword\">\r\n              <Form.Label>New Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                value={value.newPassword}\r\n                onChange={handleChange}\r\n                placeholder=\"\"\r\n                name=\"newPassword\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"confirmNewPassword\">\r\n              <Form.Label>New Password Again</Form.Label>\r\n              <Form.Control\r\n                onChange={handleChange}\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n                name=\"confirmPassword\"\r\n                value={value.confirmPassword}\r\n              />\r\n              {err && (\r\n                <Form.Text className=\"text-danger\">Mismatch Password</Form.Text>\r\n              )}\r\n            </Form.Group>\r\n            <Button type=\"submit\">Change Password</Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import VendorNavbar from \"components/Navbars/VendorNavbar\";\r\nimport VendorSidebar from \"components/Sidebar/VendorSidebar\";\r\nimport Vendors from \"../views/Vendors/Vendors\";\r\nimport VendorsDetail from \"../views/Vendors/VendorsDetail\";\r\nimport FetchVendorQuotation from \"views/VendorQuotation/fetchVendorsQuotation\";\r\nimport AprrovedQuotation from \"../views/VendorQuotation/ApprovedQuotation\";\r\nimport PendingQuotation from \"../views/VendorQuotation/PendingQuotation\";\r\nimport RejectedQuotation from \"../views/VendorQuotation/RejectedQuotation\";\r\nimport Analysis from \"../views/Vendors/Analysis\";\r\n\r\nimport UploadQuotation from \"../views/VendorQuotation/uploadQuotation\";\r\nimport React from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Profile from \"views/vendor/Profile\";\r\nimport ListQuotation from \"views/vendor/ListQuotation\";\r\nimport ApprovedQuotation from \"../views/VendorQuotation/ApprovedQuotation\";\r\n\r\nfunction VendorLayout() {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <ToastContainer />\r\n      <VendorSidebar />\r\n      <div className=\"main-panel\">\r\n        <VendorNavbar />\r\n        <div className=\"content\">\r\n          <Switch>\r\n            <Route exact path=\"/vendor/profile\" component={Profile} />\r\n            <Route exact path=\"/vendor\" component={VendorsDetail} />\r\n            <Route\r\n              exact\r\n              path=\"/vendor/vendorQuotation\"\r\n              component={FetchVendorQuotation}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/vendor/approvedQuotation\"\r\n              component={ApprovedQuotation}\r\n            />\r\n\r\n            <Route exact path=\"/vendor/analysis\" component={Analysis} />\r\n            <Route\r\n              exact\r\n              path=\"/vendor/rejectedQuotation\"\r\n              component={RejectedQuotation}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/vendor/pendingQuotation\"\r\n              component={PendingQuotation}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/vendor/uploadVendorQuotation\"\r\n              component={UploadQuotation}\r\n            />\r\n\r\n            <Route\r\n              exact\r\n              path=\"/vendor/listQuotation\"\r\n              component={ListQuotation}\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VendorLayout;\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport auth from \"./auth-helper\";\r\n\r\nconst PrivateRouteVendor = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isAuthenticatedVendor() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: \"/vendor/login\",\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRouteVendor;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Form,\r\n  Modal,\r\n} from \"react-bootstrap\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { resetPassWord } from \"./api-profile\";\r\n\r\nconst ResetPassword = (props) => {\r\n  const [status, setStatus] = useState({\r\n    status: undefined,\r\n    message: \"\",\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    trackPromise(\r\n      resetPassWord(e.target.email.value)\r\n        .then((response) => {\r\n          setStatus(response);\r\n          console.log(\"password reset\");\r\n          if (response.status) {\r\n            toast.info(\"email set\");\r\n          } else {\r\n            toast.warning(response.message);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col md=\"12\">\r\n          <Card className=\"\">\r\n            <Card.Header className=\"d-flex justify-content-between\">\r\n              <Card.Title as=\"h4\">Reset Password</Card.Title>\r\n            </Card.Header>\r\n            <Card.Body\r\n              className=\"align-items-center\"\r\n              style={{ minHeight: \"75vh\" }}\r\n            >\r\n              <Row className=\"d-flex justify-content-center \">\r\n                <Col md=\"6\">\r\n                  <Form onSubmit={handleSubmit}>\r\n                    <Form.Group controlId=\"email\">\r\n                      <Form.Label>Email</Form.Label>\r\n                      <Form.Control type=\"email\" placeholder=\"\" name=\"email\" />\r\n                      <Form.Text\r\n                        className={`${\r\n                          status.status ? \"text-success\" : \"text-danger\"\r\n                        }`}\r\n                      >\r\n                        {status.message}\r\n                      </Form.Text>\r\n                    </Form.Group>\r\n\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                      Submit\r\n                    </Button>\r\n                  </Form>\r\n                </Col>\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\n\r\n// import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./assets/css/animate.min.css\";\r\nimport \"./assets/scss/light-bootstrap-dashboard-react.scss?v=2.0.0\";\r\nimport \"./assets/css/demo.css\";\r\n// @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@700&display=swap');\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\n// import \"./assets/css/style.css\"\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport AdminLayout from \"layouts/Admin.js\";\r\nimport axios from \"./axios\";\r\nimport { getBudgetByDepartment } from \"budget/api-budget\";\r\nimport auth from \"./auth/auth-helper\";\r\nimport Login from \"views/Logins\";\r\nimport \"./index.css\";\r\nimport VendorLogin from \"views/auth/VendorLogin\";\r\nimport FetchVendorQuotation from \"views/VendorQuotation/fetchVendorsQuotation\";\r\nimport VendorLayout from \"layouts/VendorLayout\";\r\nimport PrivateRouteVendor from \"./auth/PrivateRouteVendor\";\r\nimport { usePromiseTracker } from \"react-promise-tracker\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport RequstResetPassword from \"./views/vendor/RequstResetPassword\";\r\nimport ResetPassword from \"./views/vendor/ResetPassword\";\r\n// import setAuthToken from 'setAuthToken';\r\n\r\n// if (sessionStorage.getItem(\"jwt\"))\r\n//   JSON.parse(setAuthToken(sessionStorage.getItem(\"jwt\"))).token\r\n\r\nconst getBudget = () => {\r\n  if (auth.isAuthenticated()) {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n    getBudgetByDepartment(\r\n      {\r\n        departmentId: auth.isAuthenticated().user.departmentId,\r\n      },\r\n      signal\r\n    ).then((data) => {\r\n      console.log(data);\r\n\r\n      return data.data[0];\r\n    });\r\n  } else {\r\n    return { amount: 100 };\r\n  }\r\n};\r\n\r\nconst LoadingIndicator = (props) => {\r\n  const { promiseInProgress } = usePromiseTracker();\r\n  return (\r\n    promiseInProgress && (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          position: \"absolute\",\r\n          height: \"100vh\",\r\n          top: 0,\r\n          background: \"rgba(0,0,0, .5)\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          zIndex: 1301,\r\n        }}\r\n      >\r\n        <Loader type=\"Circles\" color=\"#23b9ad\" height=\"100\" width=\"100\" />\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nconst budgetReducer = function (state = { amount: 0 }, action) {\r\n  switch (action.type) {\r\n    case \"UPDATE\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nlet store = createStore(budgetReducer);\r\n\r\nReactDOM.render(\r\n  <>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/vendor/login\" exact component={VendorLogin} />\r\n          {/* <PrivateRouteVendor path=\"/vendor/vendorQuotation\" component={FetchVendorQuotation} /> */}\r\n          <Route\r\n            path=\"/changepassword/vendor\"\r\n            exact\r\n            component={RequstResetPassword}\r\n          />\r\n          <Route\r\n            path=\"/resetpassword/vendor/:token\"\r\n            exact\r\n            component={ResetPassword}\r\n          />\r\n          <PrivateRouteVendor path=\"/vendor\" component={VendorLayout} />\r\n          {/* <Route path=\"/admin/login\" exact component={Login} />\r\n          <Route path=\"/admin\" render={(props) => <AdminLayout {...props} />} />\r\n          <Redirect exact=\"true\" from=\"/\" to=\"/admin/login\" />\r\n          <Redirect exact from=\"/admin\" to=\"/admin/login\" /> */}\r\n          <Redirect exact=\"true\" from=\"/\" to=\"/vendor/login\" />\r\n          <Redirect exact from=\"/vendor\" to=\"/vendor/login\" />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </Provider>\r\n    <LoadingIndicator />\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import React, { useState } from \"react\";\r\nimport { Container, Row, Col, Form, Card, Button } from \"react-bootstrap\";\r\nimport { setResetPassword } from \"./api-profile\";\r\nimport { toast } from \"react-toastify\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nexport default function ResetPassword(props) {\r\n  const { token } = useParams(\"token\");\r\n  const [value, setValue] = useState({\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  const [err, setErr] = useState(false);\r\n  const handleChange = ({ target }) => {\r\n    setValue({ ...value, [target.name]: target.value });\r\n  };\r\n\r\n  const submitPassword = () => {\r\n    if (value.confirmPassword === value.newPassword) {\r\n      let payload = {\r\n        newPassword: value.newPassword,\r\n        confirmPassword: value.confirmPassword,\r\n        resetLink: token,\r\n      };\r\n      trackPromise(\r\n        setResetPassword(payload)\r\n          .then((res) => {\r\n            console.log(\"passwordChange\", res);\r\n            setValue({\r\n              newPassword: \"\",\r\n              confirmPassword: \"\",\r\n            });\r\n            toast.success(\"Password Change successfully\");\r\n            props.history.push(\"/vendor/login\");\r\n          })\r\n          .catch((error) => {\r\n            toast.error(\"Please try again\");\r\n            console.log(error, \"err in fetch\");\r\n          })\r\n      );\r\n    } else {\r\n      setErr(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container fluid>\r\n      <Row\r\n        style={{\r\n          minHeight: \"100vh\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <Col md=\"6\">\r\n          <h4>Reset Password</h4>\r\n          <Form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              submitPassword();\r\n            }}\r\n          >\r\n            <Form.Group controlId=\"newPassword\">\r\n              <Form.Label>New Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                value={value.newPassword}\r\n                onChange={handleChange}\r\n                placeholder=\"\"\r\n                name=\"newPassword\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"confirmNewPassword\">\r\n              <Form.Label>New Password Again</Form.Label>\r\n              <Form.Control\r\n                onChange={handleChange}\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n                name=\"confirmPassword\"\r\n                value={value.confirmPassword}\r\n              />\r\n              {err && (\r\n                <Form.Text className=\"text-danger\">Mismatch Password</Form.Text>\r\n              )}\r\n            </Form.Group>\r\n            <Button type=\"submit\">Change Password</Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n"],"sourceRoot":""}